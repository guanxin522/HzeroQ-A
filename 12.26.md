### 请问下为什么我有一些JOB会显示客户端运行中 我后台代码是正常执行

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226141447175-551114235.png)

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226141543454-70863665.png)
返回完全正常

>服务什么版本

我现在的大版本是1.1.0   是不是我需要升级到1.1.2？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226141609280-1869301493.png)
我看了  调度任务日志也没有报错

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226141718933-1180887587.png)


>服务端有这个配置嘛
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226141740613-899415069.png)

没有 这个是新增的吗
我升级的时候只是把POM.XML文件改了并没有修改这个

>是的
加这个可以解决我这个问题是吧 就修改这一个地方吗
还是还有其他地方》

>就这一个

没效果
是我截图这么改吧

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226141920451-845069546.png)

>是在hzero 下面

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226141940346-188044769.png)

OK了 谢谢大佬


### 请教下，为啥在客户端调用平台级接口时，角色集合全是null？ 
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226141847844-424215843.png)

>客户端分配角色了？
分配了
全给上了都不行

>分配的角色看看
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142034347-52566916.png)

到gateway这儿的时候，啥角色都没了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142048306-639730228.png)

>突然出现的？
也不是吧，我今天刚开发了一个平台级接口测试就这样了
通过用户认证调用是可以的

>重新获取下 access_token 试试
还是一样

>获取 token 的时候看下 oauth 日志，会打印相关信息
好的


### 谁能教下我，这个接口关乎哪些表。

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142142660-809568949.png)

>子账户？
有人碰了数据库

然后我新建子账户找不到角色。。SAAS

>这个查的是当前用户可分配的角色，跟角色管理处数据基本一致

有什么特殊表 ，不是role 或者iam 的吗

>角色管理下能不能查出来  iam_member_role 看是否有分配
看了，我再去研究研究

>你把 iam 中查询的sql拿出来执行下不就知道了

太长了。。不知道改了啥
我看看能不能还原。。

我没理解这块是啥意思。。。

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142328542-1469799264.png)
 
>哪个版本的 数据重复？

1.0.2

每次点更多，就出一个新的奥乐齐管理员。。

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142355803-1662689366.png)

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142411203-301227877.png)

>你看角色管理呢，先不看树形这个
空的

>当前用户分配角色了没 重新登录下试试
分配了，重新登录还是一样。
算了， 我去导一份生产用户角色同步一下

>你把那个sql截个图我看看，你导出来估计也有问题，关联的表比较多



### 请问下，Mybatis的这个错误是为啥，要更新的表都在该服务下，SQL我放在navcat下跑过都没问题

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142548805-749813491.png)

>mapper要继承 BaseMapper 并且要指定泛型

>另外单表更新的话通用的CRUD已经支持
BaseService吗

>Mapper 文件要继承 BaseMapper

我之前一直不继承basemapper都可以执行自己写的SQL

>查询可以  增删改不行

>单表操作不要去自己写SQL，而且是你这个SQL还很不规范，who字段，乐观锁啥的都没不处理

那个，如果我没有我要操作表的实体类，BaseMapper<T>里面的泛型应该写什么呢

>建一个实体类。。

>这个我们后续优化一下，不会再强依赖BaseMapper

>或者泛型写其他的实体类也行，只是可能会有点儿奇怪


### 我们这边没有通用导入服务和文件服务，所以客户这边要求把所有通用导入的按钮和上传文件的按钮 都去掉，这个只能覆盖前端页面吗？如果是这样的话，能提供下前端的源码吗？


### 请问一下，最新的代码生成器可以支持oracle了吗
>不支持


### 值集怎么改都不生效  请问是为什么 我甚至改成1了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142826922-548222599.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142835772-750166530.png)

但是禁用掉的话值集视图那边立刻就有反应 后端版本是1.10

>你的意思是改了SQL 值集查询出来的数据没变么
对

>手动清空一下 hpfm:lov 下的缓存 然后再试试
好的


### groovy脚本通过changeSet删除表字段的非空约束，结果执行脚本报错，这个是什么原因啊？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142921772-1772065365.png)

>脚本写错了

这样写有问题吗？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142934190-859036271.png)

>这是全部么，报错应该还在上边 直接把文件发出来我看看吧

上面的我执行没问题，只是加了这部分报得错，好的


>前边的这部分空格应该是全角字符，你删掉重写一下就好了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226143035551-1840152359.png)



### 请问下大佬们 1.1.1 OP 我在员工定义界面维护了对应的弹性域规则和模型，但是弹性域字段没存到数据库，看前端参数是传过去了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226142955504-555237450.png)

>对应的弹性域模型编码是这个吗

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226143057053-2116347821.png)
  
这个
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226143118621-68513085.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226143132922-752481891.png)

我刚刚尝试把弹性域规则和模型都删除了， 重新配置了可以了。 


### 大佬，如果我要改hzero系统 自带的页面，怎么修改呢？
> 私聊



### 请问下大佬们，通用导入的列开启了数据验证，他的验证规则是从哪里获取的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226143159694-408684558.png)
  
>看这个
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226143217851-810440483.png)




### HPFM.UNIT.DEPARTMENT 这个值集是不是有问题啊 这个必输的 否则查不到

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226143257796-1602859815.png)

>用的时候需要传这个参数

但是值集视图里面去没有传入这个参数 所以怎么查询都是空的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226143324291-162841947.png)

预览是一定没有数据得到 因为没有传这个值是吧

>这个预览主要是看效果 用到的地方传

我如果获取当前界面的这个unit_company_id
前台可以获取到吗

>部门一定是在公司下的，这个你功能里有公司ID，在调用部门LOV的时候传给LOV就可以了 就是说需要先确认公司
那我需要先选择公司的LOV
前台self里面没有当前用户所在的公司ID
这就面临一个问题  我一个客户只有一个公司
我还需要让客户选择一下这一个 再选择部门？
还是我自己写一个值集吧

>你可以在写一个LOV 通过用户去关联出这些信息  self目前没有这个业务字段
我就是准备自己写的时候发现平台正好有

>self接口主要是放一下非业务字段，全局的东西，可以参考写一个就好了哈
>你写的时候可以直接，<bind name="userId" value="@io.choerodon.core.oauth.DetailsHelper@getUserDetails().getUserId()"/>，这样去拿ID，这样就不需要传用户ID过去了


### 请问一下大佬，这种页面能用hzero项目工程来做吗

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191226143622126-1467012195.png)

13:43分





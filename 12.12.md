### 消息模板只要点新建   就会出现意料之外的错误  请问有什么解决办法吗  他们前端本地可以打开  但是发布到线上就出问题

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212100635193-1181521218.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212100645691-900942525.png)

>你检查一下你们打包出来的dist目录下有没有/lib/ckeditor相关的资源文件

>你们出现这个错误是在线上环境前端重新构建之后访问页面出现的吗？

>没有  他们打包后没有lib文件夹

>你们线上环境的构建命令是啥？  没有transpile?

有的   打包前都执行了transpile和build：dll

>看一下你们的前端构建命令




### 请问工作流启动的时候，怎么会报一个schedule 的jar找不到的错误
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212100946973-1996492773.png)

>应该是要配值调度服务客户端

可是这个工作流自己没有写什么东西，基本上就是引用了基础工作流的jar包

>是的  工作流服务依赖了调度服务的客户端 所以要配置一下

额  怎么配置呢




### 请问一下，工作流的那几个问题，能帮忙看看吗？我们下周计划UAT，比较急。
1、工作流审批到了第三个节点，表单没有加载，不太确认是不是我们配置上面有什么问题，但是感觉配置上和第二个节点没有什么差别；
2、工作流审批拒绝的话，“指定跳转到发起人”，此时审批表单没有出现。但是这里不太确认，因为流程节点已经超过两个节点了，出现了第1个问题的情况；
3、工作流参数，非必填的参数，不传会报空指针，这个我们暂时用占位的参数值来代替以避免这个问题；
4、驳回按钮，与“审批拒绝”一样是否可以配置化？

其中1和2，你们有没有这种问题？能重现吗？另外，第三点，大概什么时候会发布？

>1. 看看第三个节点的表单配置有没有问题；在审批界面看formKey有没有；在审批界面看是不是加载报错；
2. 第二个问题我这边测试一下
3. 第三个问题我们复现了，在修复，1.1.2 发布，预计明天
4. 下个版本做成可配置的


### 各位大佬们，请问有通过微信小程序对接hzero的吗？我们这边在小程序获取token时每次都会弹出链接不安全然后就需要输入账号名和密码。请问这块可以怎么去除掉？现有环境的token获取是http的，

>小程序是要求https协议的吧

小程序开发环境时好像可以取消掉https的

我之前http调试都是走内网的


### 有没有大佬知道，hiam_role_auth_data这张表的数据是通过哪个功能维护的呢


### 咨询下通用导入的时候，校验是按照一行一行去校验的吗？如果我的校验逻辑需要走数据库判断，一旦数据量大了怎么办？

>自定义校验原则上只做数据格式等的数据校验，数据库的逻辑校验放在导入那一步再做吧
导入那层  没有自定义错误信息，如果导入时失败没有错误信息了
  
>有的呀  抛出异常会记录异常信息的

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212192006937-418059303.png)
像这样的定义的错误信息


自定义的错误信息，这个再导入的时候不能用了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212192120577-1493198174.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212192126306-683763214.png)

>导入那一步数据出错 ，导入到正式表的数据是需要回滚的，你这样我怎么回滚数据呐

我单条导入，只用回滚一条，然后我给这个条加错误信息嘛

>导入我们要求事务一致，一条数据出错，全部回滚

但是这样子就违背了“校验”  既然是校验，也肯定会有涉及业务逻辑的校验

在导入的时候校验，没法区分每一条数据的错误，只会是第一条报错了，直接回滚

>出错的数据会有错误信息记录，别的数据不会有

导入校验应该是循环跑的吧？

>是的


### 角色管理-》维护数据权限，权限数据页面是空白的，有大佬知道怎么修复不
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212203657497-885934006.png)

角色管理-》维护数据权限，权限数据页面是空白的，这个咋处理呢

>要先分配单据啊

单据分配了

>截图看看
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204207098-810989046.png)

另外我发现单据权限authority_type_code与用户权限数据里的authority_type_code不一致，这个怎么处理比较好

>你说的不一致是什么意思

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204302806-760392347.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204318922-1901183665.png)

>srm 的是自己改过的，你得问问srm



### 请教一下，我有这样的一个工作流。最开始是提出人给定一个合同金额审批amount，然后需要第二个节点确认合同金额的人来修改这个金额，然后继续向上级审批。那我在确认合同金额这个节点的表单应该怎么写呢？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204446020-642806553.png)

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204515608-2071143190.png)

>挂一个修改金额的 表单，再挂一个监听器，再节点完成时回写这个流程变量



### 调用iam服务的 /member-roles-external/auto-assign 后台日志报错了，“hiam.warn.role.roleTenantIdEqualsParentRoleTenantId 角色的租户应跟父级角色的租户保持一致”，是角色模板没有配正确吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204540586-70760988.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204550167-1847307632.png)


![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204637150-2092264325.png)

需要检查什么表里的什么字段？

角色是指创建的新的租户，还是调用的租户？另外角色的父亲的租户是指模板的租户吗？
能把刚才那句话翻译一下吗？

[
    {
        "userId": "453",
        "tenantId": "15",
        "newTenantFlag": true,
        "companyNum": "CO00000101",
        "sourceKey": "6",
        "sourceCode": "SRM",
        "roleTemplateCodes": [
            "role/organization/default/template/experts"
        ]
    }
]我的报文是这样的，我要检查哪些表的哪些字段？


>你调用这个接口具体是什么需求

### 请问在有用户名的情况下，能否做模拟登录的操作，有没有标准实现支持，或者是否有标准的实现方案  hzero 0.8.0

>什么需求要做模拟登录

要做企业微信的自建应用

>那跟模拟登录有啥关系呢 走正常的授权流程就行了呀

直接走移动端授权吗，但是我看移动端授权是需要密码的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204123891-940545271.png)

目标是用户从企业微信进入应用后直接用用户名做授权，企业微信的userID和我们系统的用户名是一一对应的

>你是要做企业微信三方登录还是啥？

自建应用
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204705909-797855855.png)

>我们有企业微信三方登录，支持子应用，你看是不是这个需求

三方登录这个我看了，这个流程基本契合需求，但是我看这个文档是1.1的，不知道0.8.0有没有这个支持，有的话我这边先试试看
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204750920-1407095543.png)

我们这边做了客户化，升级目前不太现实

我这边现在就是通过企业微信拿到了userId,等价于这个流程图的openID

>可以集成企业微信登录组件，oauth 服务要加一些代码

### 我现在使用服务选配网址导出后端 1.0.6 版本的服务，导出不了，但是导出 1.1.0 版本的后端服务能导出，这块导出是出问题了嘛？我现在需要导出 1.0.6 版本的，麻烦帮忙看下呢


### 请问大家在使用hzero平台的接口透传的过程中有遇到过这个错误吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212204923890-778135102.png)
在接口平台上执行测试用例是没问题的，用了postman调用就报这个错误了

是我的token给了其他客户端的导致的，不过这个报错好像有点误导人

>通过postman调用，请确保，postman所获取token的客户端，再接口平台进行了角色授权

### 今天早上说的  跳转回来的表单不展示我这边没有复现，你那边有发现什么问题么
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212205134049-345487843.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212205141772-345765734.png)

>嗯嗯，还没发现，多谢啦，我们再看看是什么问题，也许是配置的问题

那个表单的问题应该是这个没设置造成的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212212341635-1791593058.png)
 我们设置了后可以了


### H-ZERO创建的子账户，在海马汇上登录会报密码错误，但是密码是对的，请问这个问题怎么解决呢

>报什么错，帐号是怎么创建的，有分配角色吗？

报密码错误，但是密码是对的啊，输了好几次
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212205534667-513528892.png)

>登陆界面看一下 把报错发出来看看
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212205621199-1118588000.png)

登录以后就闪退，变为另外一个号  这个网站，外网可访问

http://eztao.hand-china.com/workplace

>私聊发一下帐号密码


### 请问如果我想要配置一些信息在hzero页面，类似于配置维护那样，但我刚刚去配置时发现配置维护里可维护的长度不够，请问有什么办法可以解决吗？或者有其他的地方可以配置这些值给后台使用的吗？

>你要配置什么？是不是可以考虑用我们的静态文本维护功能呢

想配置一些小程序的appId之类的这种秘钥信息，这个静态文本是在哪里

>哦，这种就不要用静态文本了


如果配置值用全局获取的话，是不是用这个就可以了？profileClient.getProfileValueByKeys
直接传对应的配置维护的编码


如果我配置维护里维护了多个值，调用这个方法后返回的值是什么？拼接起来的？我看方法里貌似没有List的返回值
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210021365-1793978149.png)

>一个层级只允许一个 你想维护哪些东西？

目前就只是想维护小程序用到的秘钥那些而已，不过配置值不够长


>我们有个三方应用的，用这个功能也可以管
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210120524-708496769.png)

>自己定义个渠道，用来内部用也可以

>本身这个功能是用来做三方登录的，但是也可以用来做一般的三方应用管理，可以灵活来用，但是渠道你要自己建一个，比如：内部使用，维护了，用API获取就可以了



### 这云盘密码是多少来着？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210204800-2024749052.png)

>handhzero


### 平台服务

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210251934-918201019.png)
数据库里面有我的数据了，但是页面没有展示
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210258729-748056724.png)


>swagger 上展示的服务首先路由表要有路由，且注册中心上已注册



### ip结尾88是前端服务器，89是基础服务的服务器。打包部署的时候出现了这个问题，有什么办法解决吗？ 前后端服务是分来放置的

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210345362-1756348907.png)

>后端服务都正常起来了吗，另外500的错，检查self接口是不是有问题

后端服务都正常起来了，但是ip地址那个89端口是不是一定要请求网关服务的那个接口也就是后面需要8080端口。这个接口状态码是304

>你的地址不对吧
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210636711-1528662991.png)

这个地址正确的应该是怎么样的？需要在哪里配置  是nginx代理的问题吗？


>后端地址是不是漏配协议了

>你这个为啥是两端呢
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210848827-1883585434.png)

确实  后端没有协议 前端使用nginx代理在一台服务器上，后端则在另一台服务器上


>这个没关系

这个配置起来应该就是只会显示后端所在服务器的吗？ 那可能是nginx配置有问题


>你这个为啥是两端呢
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210848827-1883585434.png)
>正常是这样
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212211216655-933754787.png)


### 各位大佬，请问一下，我直接改数据库编码规则的当前值，同时把redis的删除了，数据库直接维护的值是10000012，为什么建出来变成了10000112
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210923823-301828528.png)

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210947949-640280994.png)
 
 
>删除redis我们更新数据库会自动加一个100，因为我们是每100次更新一下数据库，避免缓存问题丢失后，数据重复
 
 
### 请问前端怎么在开始流程之后的一个审批节点中，获取到流程启动时候的参数呢？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210420647-1387101843.png)




### 文件服务这块是谁负责的呢？客户有本地存储。我想咨询一下我们的文件服务是否满足
客户想问我们文件访问方式  他们评估是否能支持
>联系双飞好了

### 请问获取配置维护的值使用这个方法吗？ 我获取出来的值好像有点不太对
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212210508468-1260979983.png)

>哪里不对

获取出来的值跟我维护的值不一样

>把相关的截图给出来，怎么维护的，怎么获取的

这是调用过程
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212211016164-89619829.png)
然后这是我维护的值
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212211023678-1325435788.png)

返回了“21”，跟我维护的值很不一样

>我看下
好的，您看看我这边需要提供点什么信息给你




### 请教一下 开启数据变更拦截的时候 

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212205913147-811496403.png)
这边报这个错 这个bean没定义是源码问题还是少了什么配置
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212205920846-1924542251.png)

>长度不够，我们可以优化下

### 我想问下Hzero 跨服务查询的聚合有什么好的方案？

>http://hzerodoc.saas.hand-china.com/zh/docs/user-guide/system-manage/data-permission/

这个怎么实现数据库在不同服务器的跨服务聚合查询呢？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212211426424-1404113777.png)
我感觉这个好像只能限制在同一个myql上的数据库才能使用呀 不同mysql服务器就不行了

>你们难道是不同的DB服务，多套MySQL对吧

那这个就和直接写在sql语句上没啥区别了呀
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212211517472-150151026.png)

>没有区别吗，那如果改了数据库名称呢？

直接写在sql语句里面岂不是更加的简单，跨服务聚合查询的话

>我们提供这种模式是基于可以把主数据这种全局表的数据可以跨库查 如果不能跨库查，我们提供数据分发服务 做数据广播 但是业务数据不建议这样用

我看看数据分发

>你们可以考虑用mycat之类的中间件

>数据分发如果如果是业务数据，可能会有点延时问题，一般用于比较稳定的小表主数据，方案很多，只是要选自己合适的，灵活处理，或者就是内存聚合


### 出现这种是因为什么呀？ 权限没初始化好嘛？
```
<oauth>
<status>PERMISSION_SERVICE_ROUTE</status><code>error.permission.routeNotFound</code>
<message>This request mismatch any routes, uri: /ctpl/v1/0/template/page</message>
</oauth>
```
>检查路由表 什么版本

这个嘛？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212211902611-887196709.png)

>路由表 hadm_service_route 你用的哪个版本

hzero 1.1.0

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212212045742-1397798922.png)

>有你的那个路由吗

有的

>你看下网关日志 fetch  搜索下

那个error了 gateway应该访问admin库对嘛？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212212200183-1510746230.png)

>你看下admin的bootstrap.yml
看哪个信息咧？




### 大佬们，自带校验为啥会抛出lovvalue注解里面的message
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212212238565-1110579604.png)

校验为啥会抛出@lovvalue注解里面的message

>你这个是通用导入，用了值集验证吗？


是的，使用通用导出，在新增的时候进行了参数校验

>这个跟导出没啥关系，应该是你的参数中有个字段用了值集校验，不满足值集抛出的异常

### 你好，导入的模板下载不了可能是什么原因导致的呢
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212212542976-2000169751.png)

>报什么错了嘛
没有报错

>你看network

network没有请求

### 请问一下，我的搭建前端项目的，登录成功之后访问主页报这个错，会是什么原因呀？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212212616332-2140564165.png)


### 这个首页排版乱了可能是啥原因
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212212010092-2087145014.png)

>刷新看看  看看前端报什么错，可能是编译的问题



### 利用interfaceInvokeSdk.invoke调用接口时发生这个错误，请问有人遇到过吗？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212211737606-1263787973.png)

我调用的方式有问题吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212211744532-1093704058.png)

>可以先尝试刷新接口权限的缓存 在接口平台的页面上保存

>检查一下namespace.interfaceCode,serverCode是否正确，若确定无误，编辑一下接口保存就可以了

请问这个namespace是在哪个位置？我在我的页面上好像没有看到这个维护信息

>就是租户编码，发布地址上有的
好像没有
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212212737681-1861903652.png)

>后面不是吗？HZERO

喔~原来是那里


### hzero开发环境 API定制化报错。
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212212844779-541412744.png)

API定制化那个功能帮忙看下

>是服务名，不是路由，检查下值集

图里的是你们的开发环境

>值集问题修复好了

>但这个是不能直接用的，要在服务中加入API客制化组件才能使用

hzero的服务默认是有加这个组件吗

>没有 使用方式参考这个文档：http://hzerodoc.saas.hand-china.com/zh/docs/service/platform/api-customize/




### 请问一下，file文件服务本地存储的nginx代理是只能使用主机部署的nginx么？

>目前是NGINX需要和存储的服务器一起  不然拿不到文件

经过代理的nginx可以吗？

>只要保证用来代理文件的nginx和文件存储的服务器在一台机器就可以了




### 大佬，这个导入重写函数，如何获取前台传过来的租户
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212205239819-433470793.png)

>DetailsHelper可以获取

DetailsHelper.getUserDetails().getTenantId()  这个获取的不对 都是0

>你怎么测试的

swagger

切换了账号，获取的都是0

>正常前端操作，路径的租户ID和当前租户应该是一致的，你在swagger测试，使用的账号的租户是0吧
找到原因了，多谢

### 麻烦问下，使用导数据脚本导hpfm_lov_view_line数据时，lov_id这一列需要添加到唯一性列中吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212205343382-1472626431.png)

>这个不用


### 大佬，建立的账户为什么在网页端不能登录呀，没有冻结，没有过期


### 调度任务已经执行完成了  日志这里还是显示客户端执行结果还是在运行中   请问这个是什么原因导致的呀
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191212205447612-235653013.png)


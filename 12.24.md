### 请问一下大佬们  hzero 1.1.1 op版本 平台服务在本地无法启动，错误信息[io/choerodon/mybatis/service/BaseServiceImpl.class] cannot be opened because it does not exist   更换了启动方式也不行，可能是什么原因呢？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093422225-1629640975.png)


### 数据源设置中   我在里面输入了oracle链接的相关信息   点击测试连接 报错  但是我用工具是可以正常连接上的   后台服务和数据库是同一台服务器  请问这种情况要怎么排查？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093428463-1112882512.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093433121-1357028521.png)

>你这个没法看，你先把URL连接信息私发我

>看下平台服务报错日志  私聊发我吧



### interface服务中的这个刷新权限接口   原本可以正常调用的接口刷了这个过后直接报

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093516562-1015097172.png)

但是原本的接口还在
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093538874-1430352700.png)
  
版本都是1.1.0

>编辑接口保存一下  http://hzerodoc.saas.hand-china.com/zh/docs/faq/interface/

嗯  我现在是这样解决的   现在接口还不多没事

>嗯 多了 重启服务就好



### 请问在公告管理的系统公告或者系统通知上传附件后发布后，站内消息详情内没有任何附件，是需要添加某些配置吗？

>什么版本？

1.1
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093629930-162449243.png)

>升级到1.1.2吧，这个功能1.1.2放出来的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093645153-316198159.png)

>消息详情的附件储量，之前漏了，1.1.2修复的


### 问个问题,后端hiam有客户端吗？用来通过租户ID查询租户名称，以及通过子账号ID查询子账号名称


### 请问一下，这个图片上传成功了却为什么加载不出来

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093803079-532027974.png)

>私聊吧


### 请问一下@1.0.2版本的hzero-front里，今天重新下载的依赖里会报这个错，是为什么呢，如何解决
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093851472-2061712783.png)


###  requestmapping有俩个路径时，刷新权限只会刷其中的一个路径，另外一个路径不会。 请问这个怎么解决

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093859178-202509136.png)




### 请问一下，今天项目重新引入hzero-boot-import-1.1.0.RELEASE后，启动项目报错有遇到过吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093925410-1070931724.png)

>这个包没有动过，建议删一下仓库重新拉试试


### 前台依赖报错了,怎么解决
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224093945024-695551484.png)



### 今天重新安装hzero-front的依赖会报错，中台那边是更新了什么东西吗？hzero-font版本是1.0.2

>报啥错？

import error
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094005557-323246549.png)


>这个依赖的版本可能太高了，你安装个path-to-regexp@3.1.0


>我这边也有类似问题 执行这个命令解决的  yarn add path-to-regexp@^3.1.0 --registry http://nexus.saas.hand-china.com/content/groups/hzero-npm-group/

ok  我试下

好了 谢谢




### 请问Eureka上有这个实例，服务已经注册到Eureka了，但是服务监控控制台没有这个实例，而且调用调不通，这种有什么解决方案吗
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094100950-334937724.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094110088-1507937238.png)
这上面也没有
之前可以使用的，今天突然出现了这个问题
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094133369-970366178.png)

>多等一会儿

>本地服务？无法访问你本地吧，防火墙没关？多网卡？

应该不会吧，整个项目组所有的带工号的都不行了，上午还可以的，一个小时后，突然全项目组就不行了，带工号的代码推到服务器也不行


刚试了一下  除了原来的服务以外，后面加的服务都不行了

刚改了名字去掉后缀还是不行
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094500513-1062515553.png)

>哪个版本
1.1.0

>没起 hzero-admin 服务？

起了

>看 gateway 日志，能否从 admin 拉取到路由

服务在这里有
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094624211-1928258291.png)

这里没有

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094632711-1316206813.png)

我看看日志

>注册中心没有 admin 服务啊

有

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094659303-1016608775.png)

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094715179-750418651.png)


>你注册中心上面访问得通？

>admin服务
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224095840943-2101498385.png)


>所有的路由报错信息都是这样的吗

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224095908821-114166768.png)


只要新的服务都报错这个 原来的没问题 原来的本地带工号的也报错


感谢，已解决 ，重启下注册中心就好了

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224100651834-2051490551.png)

你这怎么这么酷的界面

1.1.0  服务治理
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224100718830-123168994.png)





### 问一下，登录页内容我修改了，但是下面的“个人中心”按钮还在，怎么配置可以取消这个按钮，或者改成其他链接
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094518370-731859498.png)

>这个按钮不是富文本配置的  暂不支持配置

不支持配置，只支持静态文本修改，也没法直接用啊
这个大概什么时间会修改，有计划吗

>为啥不要这个个人中心的按钮呢？有什么需求吗？

>这个功能就是用来做账户安全等级处理的，不是通用的功能，不要用来做业务上的事情。因为如果没有安全性上的问题，这个框是不会显示的



### 请问这个服务升级，重启之后，版本会更新吗

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094151590-152404547.png)

>你是要做什么

就是现在服务是升级之后的版本 但是看服务管理里面的版本没变  现在是1.1.2

>小版本升级是不会改这个版本号


>这是你的服务元数据声明的版本

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094405958-1457675932.png)

>这个版本号其实就是个环境变量

好的



### 想请问下，通用导入，可以控制事务嘛，多个sheet 页的

>你的导入客户端是什么版本，1.0以后，加了事务控制

1.0.3.RELEASE

>导入事务是统一处理的，多sheet导入遇到异常会统一回滚


### 问一下，静态问题可以做成动态的吗？比如现在进入后弹出用户安全提醒，里面提醒为尊敬的用户您好。能改成：根据当前用户登录，提醒尊敬的A用户您好，尊敬的B用户您好。这样的效果
这个只是举个例子，其它的内容也需要动态显示
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094251474-408221228.png)




### 这个redis队列的消费者类上还需要加其他注解吗？按照文档上面的说明消息发送出去之后并没有实现消费

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094731729-690612872.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094841779-1642364624.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224094853264-2084547982.png)

>配置开启了吗

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224095753918-1166304228.png)


失误，我刚刚的断点卡住没放，队列没问题，但我有个小问题想问下，假如我在项目启动的时候没有开启订阅（或者在消息发送到队列之后去推送订阅的时候出现网络波动或者节点宕的情况）这个订阅没有推送出去，在获取单条消息的时候永远会有最后一条消息留在队列里面

>那你批量读嘛，或者服务启动后做一次消费
好吧

>你也可以不用默认的通知机制，自己写线程池消费

批量每次是500吗？

>全部消费是每次消费500，循环执行，直到消费完

我在测试下，我发现我的队列只消费了500剩余的全部压在队里

>额，1.1好像只能读500，循环逻辑还没发布




###  这一块  我给bodyParam 传一个json 过去 感觉第一个值变成了key  其他的变成value
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224100450580-890828646.png)
rest 接口  不是这个方法setBodyParamMap给参数吗

>你接口怎么声明的

>bodyParamMap只是针对的form_data以及url_encode类型的请求

好的。


### 我这边把oauth升级到了1.1.0，登录页面要一直开启验证码，配置文件加了always-enable，enable-always-captcha也设置了true，但是第一次进去登录页面并没有显示验证码，输完用户名和密码，点登陆，就跳到了一个有验证码的登录页面，我看了后台/login要从session里拿用户，如果没有拿到用户，就不显示验证码，这个怎么解决呢？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224100809534-1866590011.png)

>可升到 1.1.3

好



### 请问一下大佬们，hzero1.1.1 op 在测试发送企业微信应用消息，界面上没有传应用ID的地方，会导致发送失败。
```
消息监控报错：org.hzero.message.infra.exception.SendMessageException: wechat official message send failed! code: [40056] , message: [invalid agentid, hint: [1577093420_55_dcde5cfaa2f0fcc9243580425681a18f], from ip: 114.255.55.253, more info at https://open.work.weixin.qq.com/devtool/query?e=40056]
```
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224100627816-1241696487.png)

>好的，我看一下

>这个部门Id字段就是agentId，前端描述写错了

 好的 我看一下

 页面上测试了下，可以发消息了，的确是这样。 谢谢飞哥


### 请问数据源设置完成后   具体怎么用  怎么测的有没有个文档或者案例呢   官文档上我搜不出来

>可以配置一个报表数据源  参考文档平台用户手册下的报表平台部分的文档配置一个报表查看效果

>参考文档http://hzerodoc.saas.hand-china.com/zh/docs/user-guide/reporte-platform/

好的感谢


### 请问下，外部接口用InterfaceInvokeSdk调用报这个错怎么弄
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224100751679-2070453129.png)

>私聊看一下配置


### 请问有大佬知道工作流如何实现循环查找上级领导审批，实现自循环

>比较复杂，需要画一个循环审批的流程，然后挂一个服务任务动态调整流程变量控制循环

好的，谢谢，我再看看怎么画


### 请问大佬，hzero1.1.0,我给新建xjgroup租户维护了系统管理-LDAP菜单权限，详情页面里面怎么没有保存按钮了，以前还有，详情里面的保存按钮那些要怎么配置
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224100839947-536304136.png)

 这个问题，大佬能回答下吗？服务挂了，比较急

>是从什么版本升级上来的？

直接搭建的1.1.0

>私聊你了


### 请问大家有遇到过调度服务卡在这个状态，需要重启才能返回消息的吗？我是用的1.1.0，之前1.0.2没遇到过
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101106377-1212623132.png)


>看下调度服务有没有这个配置

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101140785-1562121055.png)

没有诶，我加上试试看

可以了多谢


### 麻烦问下，监听器的传入参数是在工作流哪里定义取值的呢？
>流程分类和流程单据中的流程变量

我想在里面传一个类似taskId的值，在每个节点审批后动态传值给监听器


请问这些值在后台哪里取得值呢，哪里给付进去的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101743711-2026710728.png)

>部分是流程启动，部分是运行中

运行中的在哪赋值呢，我需要加个taskId

>taskId 无法通过配置的方式写入，如果是依赖开发的话 加一个监听器 在任务创建后写入吧， 不过你这么做的目的是什么

和别的系统对接，需要传给人家这个值
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101811430-1716416469.png)

在每个节点审批完后实时传送的

>好

我写了个监听器，想夹在流程变量里，直接获取，可行吗

>直接获取什么意思  监听器你写在哪里

任务监听器，类型是complete的，监听器在每个人工节点上，我想把那个字段放在流程变量里，在监听器的controller入参中直接取到
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101852998-2084324856.png)

> 可以

咋搞呢

>这个其实还是有点儿问题，一个节点多个人会有多发个任务   也会有多个taskId

我不是taskId，是节点id，这个id是人工节点的id
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101944423-581449095.png)

就算有多人也是一样的

>私聊吧



### 0.11.4.RELEASE的版本即时通讯有详细的文档吗



### 麻烦问一下   assignee_这个字段存的用户用户信息是什么啊？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224102008906-514255218.png)

>员工编码


### 这个线程池大小可以改成支持配置不，可以公用
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224102038196-1217531354.png)

>意义不是很大  通用性也不好评估   你用这个线程池的时候还得考虑框架需要用多少资源  感觉没必要


### 这个是报表查询器对象是什么
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224102053753-1239301243.png)

>检查一下数据源的配置

数据源设置么？

>嗯

测试连接能成功

还是这个也要填？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224102139526-616284257.png)

>看报错应该是数据库类型有问题


### 大佬，流程启动什么情况下会报这个？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101336552-1680569245.png)

>当前节点没有审批人啊

但是我用本地其他服务去调用的时候是好的，用网关调用微服务的接口就报这个
这个和用客户端的token来调用有关系吗
而且我看审批流程图是可以看到这个的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101418656-1497123809.png)



### iam的子账户excel导入，没有取当前导入用户的租户下面的角色，是根据角色编码随机取的一个，只要不同租户有重编码的角色，导入就可能报错
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101433918-536567404.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101443215-806800243.png)

>可升级到 1.1.2，支持一个用户导入多个角色，需根据 levelPath 导入



### 请问在job里的feign调用iam的创建用户服务，在校验用户和角色关系的时候，总是会用默认用户ID-1来校验，导致校验不通过，这种情况应该怎么处理？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101514362-982056815.png)

>要调用内部创建用户接口  /hzero/v1/users/internal




### 大家好，请问，自己在web端用jq写一个登陆界面，但是连接的是hzero的后端，进行验证，然后成功后跳转到自己写的重定向的界面 其中的步骤大概是怎么样的吗，分别要向请求哪些网址？看了文档，还是没太明白

>你看标准页面调的哪些接口你就调哪些接口





### 请问大家这个密码应该找谁要？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191224101454420-1214372557.png)

>hzero



10:14记录

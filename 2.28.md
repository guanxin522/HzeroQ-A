### 大佬们，pda调用后端接口时偶尔出现去下报错，我查了一下好像是前端问题，这个怎么处理？
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228152605399-1972872728.png)


### 现在HZERO如何增加除英语，中文外的其他语言？

>手工处理，主要是多语言维护，返回消息多语言，还要去翻译值集，菜单之类的
>可以这样，检索数据库的多语言表，只要是有多语言的就要去补数据

好的



### 之前听说“返回消息”的显示优先级高于后台服务的的 message 属性文件吧？这里后面是否可以统一规定都由返回消息维护算了呢？也方便后面增加语言的扩展吧

>是的，优先级更高，但是后台也可以维护，这个不冲突
>后台算默认的，我们也不能强求用哪一种，都是可以的



### 各位大佬请问一下，这个权限查询不到，刷新也没有用，怎么弄出来

![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228152706097-456770964.png)
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228152711289-1817793863.png)
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228152728245-1952694404.png)

![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228152720488-1896503044.png)


>先查看下iam表有没有这个权限，没有的话刷新一下iam服务下的权限刷新接口吧
>另外可以看看你定义的接口是什么级别的，跟你这个用户的层级是否匹配

权限刷新了，还是没有的



### 请问多页导出数据是正常的，但是单页导出就会出现第一个子查询只显示一条数据，这是什么原因？
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228152817235-289266697.png)
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228152822942-352415555.png)
请问导出查询数据是没有问题的，但是xlsx里只显示了一条是什么原因？

>用的哪个版本

1.1.0

>用1.2的试试

刚刚用的1.2.0报错了
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153322551-859531453.png)



### 请问一下，这是工作流服务有问题才会报这个错吗?
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153340469-253196725.png)

>看一下响应信息

```
{"timestamp":"2020-02-28 13:43:22","status":500,"error":"Internal Server Error","message":"Request processing failed; nested exception is org.activiti.engine.ActivitiException: Unknown property used in expression: relative://pub/hdgp/process/details?logId=${businessKey}","path":"/v1/1170156/process/instance/start-up"}
参数不对吗?

```

>${businessKey}  没有这个流程变量
>应该是 processInstanceBusinessKey

哦哦  好的 谢谢！

请教一下 审批的时候报这个错误一般是什么原因？
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153448432-894404855.png)
流程监控的异常堆栈里也看不出什么有效的错误信息

审批的时候报了这个错误 Data too long for column 'message_head' at row 1
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153523599-29004258.png)

>看看日志 这个错误之前有没有其他的错误

我流程设计里没有配置任何监听器的话 日志是在工作流服务里看吗？

>嗯

融合环境的，我估计没有权限。。。





### HITF接口平台，租户定义的透传接口， 为什么要经过平台级再次授权给租户才可以使用，这块设计是有什么考虑吗



### 麻烦问下，值集类型为自定义sql，后台通过LovAdapter调用，怎么传参数
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153431784-1274637885.png)

>LovAdapter针对SQL或URL值集的转换，需要用翻译SQL，就是按要求写个SQL，我们会远程执行SQL获取到值，因为查询SQL会非常复杂，所以我们没办法直接使用。
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153606646-459146798.png)
>参数就直接传到list参数里面

好的 谢谢 我看看

>另外你这种需求，smdm_uom明显就应该是全局基础表，这种直接查就可以了，如果跨库，可以用数据权限配置来搞定

嗯嗯  好的，因为很多个类似字段，值集不可以直接用的话，我这边就自己写查询啦





### hap升级hzero，想使用监控审计客户端，添加依赖无法启动，报错如下
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153246509-2080080784.png)
请问怎么解决？




### 想问下，这里的审批规则设置后 远程调用获取员工信息报错了 员工信息获取到了 但是好像没有回写替换流程变量成功

![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228152838102-136233724.png)
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228152914613-1456611556.png)

>返回类型是什么

我没自己写的接口，用的流程内部的接口
返回的是员工信息的类
是因为这里的问题嘛？
如果我有多个流程变量，自己写个查询接口，返回的格式应该是怎么样？

>没明白什么意思   有多个流程变量什么意思  你是要做什么

自定义审批规则

>那跟写入流程变量有啥关系  审批规则要求返回值时一个字符串数组
>你返回一个对象不可以

好的，我试下

>ok

如果我想给一个节点设置多个审批人，并且多个审批人还是通过流程变量设置的，并且我传的时候就是员工编码了，设置审批规则的时候之前的版本是直接选择流程变量就行了，不用设置远程调用，现在远程调用必选

>必须选？你截图看看

![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153101891-2087671336.png)
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153108825-2025975004.png)

>那你选表达式啊

选表达式怎么判断呢

>之选一个做参数  值等于你的流程变量

哦，好的，我试下

![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153139087-1400995128.png)

>选流程变量



### 问一下大佬们，服务器上传配置新增时候报错，hzero-file期初导入文件中没有hpfm_tenant_tl表。
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153208656-855359168.png)

>数据权限配置一下这个表的前缀策略


### 请问通用导入的csv格式模板是否是不可用的？相同的数据用excel可以，但csv解析不到数据
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228153647545-130421311.png)

>你什么版本

1.2.0

>没复现  你csv发我看看

我还是没复现，后端有什么错误日志嘛


### 租户下查询自定义SQL和URL值集貌似有个bug。URL形参有4个，实际传参数只有3个，报错了。这个问题谁可以看下吗
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228211938674-548223541.png)
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228211947414-547826782.png)
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228212001158-1138333617.png)





### fetching resource list: http://10.2.1.62:8050/docs/hpfm-24816?version=1.1.0.RELEASE; Please wait.
一直swagger拉取不了文档信息是为什么
能ping通
注册中心有
路由也配置了

>从哪里能ping通，是admin微服务所在的服务器能ping通你10.2这个地址吗

注册中心能ping通
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228212821123-318434108.png)

卡这里一直不刷新文档信息

>截图看看

 看哪里的截图
 
 >你服务器ping你本机的截图，按理说服务器能ping通你本机，这个就应该可以获取到

这是不是服务器出问题了
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228213129734-392369288.png)

>说明就是网络不通呀


### 各位大佬，Hzero1.1.2版本的IAM模块，用户管理 - 修改用户密码接口，swagger上测试到是没有原密码的检验的（随便输入一个值都能更新密码），这个要怎么解决？
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228212934846-1520282130.png)

>确认下这个问题

我在postman上测试的结果也是这样，密码检验是没有的。
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228213054071-205162983.png)

>我们会复现下，有问题我们会修复

好的

>调用的接口截图看看


### 请问有人遇过对同一个域名对应的多个端口的服务，如何配置ssl证书?





### 有人知道这是啥原因么？ 在hzero1.2.0下的中文环境和英文环境，label的对齐方式不一样，一个是右对齐一个是左对齐
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228212645483-1105596686.png)
还是平台故意这样设计的？

我如果想让它英文环境下对齐跟中文环境下都为右对齐，有什么解决方案么

>故意的，因为长度问题会导致效果一样，所以针对性处理的

那这个能改吗

>去前端群问，通过改全局样式都是可以改的

OK 


### 请问工作流这边接口，别的服务新加的接口这里搜索不到，应该如何刷出来
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228213217427-2132919900.png)

>iam刷新

我试试

请问是这个吗
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228213434673-917562292.png)

>直接刷整个服务的权限就可以   应该可以把，我一直都这么刷的
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228213457768-1668034714.png)

好
还是不行搜不到，swagger都可以了

>工作流的页面刷新下呢
>这是接口定义？新加的接口是不是租户级的

新加的是平台级的
是因为这里是租户级的界面吗

>接口定义只允许租户级的接口

这样啊，了解了

问下，我再接口定义里面定义的方法，直接点测试能进我本地服务，然后走工作流就走不进去，有什么问题么，突然就无效了，工作流审批完一直走的半个月前的方法，代码更新了也还是走的老方法

这里能进我本地
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228213856178-1372820225.png)

然后工作流审批走不进去
走的还是测试环境的接口

解决了

>有没有日志

服务器日志就更新了一个状态，啥都没有

>啥状态？ 也没报错？

没报错  日志显示的相当于老版本的代码日志

>啥意思  你改接口了？

>改了外部的定义要重新部署

部署了，这个都知道

>那现在啥情况 没日志也没调用？

测试环境的代码和我本地的一致，而且我加了一个logger也不输出
但是就是运行代码不对

![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228214633291-304885656.png)


>是不是访问错环境了啊  你这个我也没办法啊

不至于把，测试环境工作流已经操作了三个月了，这两天正式环境开始准备上线出了问题

>一直没动过 之前没问题  现在突然有问题了？

对，这两天改需求重新写了一下接口，再接口定义里面定义本地服务就访问不了本地代码了
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228214836197-557123689.png)

然后我把代码同步到测试环境去，也不行

>工作流开debug日志 看看调的接口是不是你这个接口

不是  走的是测试环境的
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228214930093-556360766.png)

>重新部署一下

重新部署也是走的halm-atn  应该走halm-atn-24816

>是重新部署之后新发起的流程？

对

>哦，那重新保存一下服务定义，让后在重新部署

嗯嗯 还是不行

>人工节点还是服务任务

服务任务

>你是新建了一个接口定义还是改了原来的接口定义?

原来的接口定义


>这里打断点看看把  我刚看代码每次都会取最新的配置 不可能会有你说的这个问题
```
org.hzero.workflow.util.helper.ServiceHelper#getResult(org.activiti.engine.delegate.VariableScope, long, java.lang.String, java.util.Map<java.lang.String,java.lang.Object>) 
```



### 请问以下，这个问题有人遇到过吗？
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228214908204-1040239892.png)




### 请教一下，使用消息服务客户端，调用messageClient.sendWebMessage，请求没有带ip是什么原因呢？1.2版本
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228213530547-1951943960.png)

>没有带IP是啥意思，这个是feign调用
>你的服务feign调用消息服务访问不通

我看到是feign调用，我疑惑的是为啥 我的get地址 没有带上ip~

![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228215010365-1779652129.png)

>看这个
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228215035118-1977559963.png)

是要修改这个参数么？
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228215022394-810579139.png)

>feign调用指定服务名，从注册中心获取服务ip

>你的注册中心有这个服务嘛
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228215201172-253592847.png)

有的
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228215136653-1731437968.png)

>那你本地服务能不能ping通这个服务的ip呐

噢~ping不通 我查查原因



### 请问平台文档里有对角色管理下角色的“维护数据权限”，“字段权限维护”做介绍的文档吗，包括他的作用和使用等等，我想了解认识下这两个功能。请问有这块的介绍文档吗？
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228213802264-1111344146.png)

>搜字段权限和单据权限
>有的，在文档平台有的



### 给工作台开发的接口报403怎么解决，菜单配置没有相应的菜单去配置这个403的接口

>工作台如果是给全局用户用，那就开发成Login类型的接口

给接口加这个注解吗  加了这个注解也不好使，也是403
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228215424520-778980842.png)

>403的编码是什么呀，可以刷新一下权限再试试，或者你可以把调的接口以及403报错信息发出来

error.permission.mismatch 编码是这个，手动刷新表IAM权限，也刷过了，/permission/fresh/{serviceName}  /permission/cache/{serviceName}  。我这里再问一下，开发Login类型的接口是写注解@Permission(level = ResourceLevel.ORGANIZATION, permissionLogin = true) 就可以了吗？

>level可以不要，要后面的permissionLogin就可以了

ok,我试一下
那用三个参数的呢

>自己先看看文档吧，界面配置下，自己测测



### 请问下用这五个参数的方法，不同租户编码可能会重复么
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228215514491-567727328.png)

>会，生成的编码是按照租户来区分的来的，不是全局，所以如果想避免重复可以通过，传递变量来区分



### 请问按文档上配置的外部接口，重新配置了好几次，测试用例一直报 403，是哪里出问题了？
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228215736891-22380205.png)



### 这个接口的权限在数据库找不到
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228215704838-2127461653.png)

> swagger上能找到吗

能 就是数据库里面没有

>按照文档上关于处理权限问题的方式处理下，比如手工刷一下权限

刷新不行 需要把接口写入到平台服务的权限库里面
可能需要中台检查一下平台服务的初始化数据
这个数据本来就是自动可以刷进入的，这个不用初始化导入也没关系

>现在有问题处理问题就好了

OK


### 各位大佬，请问工作流模块，画图的时候，没有画拒绝的线，在节点拒绝的时候，报http 500，后台日志显示No outgoing sequence flow of element 'sid-dOcemTUC-7j7m-4ZgA-8nvU-DJEvDvbKJUsJ' could be selected for continuing the process。这个要怎么解决呢？

>说明这个sid-dOcemTUC-7j7m-4ZgA-8nvU-DJEvDvbKJUsJ节点的所有外出连线的条件都不满足

只画了一个审批通过的，没有画拒绝的
把通过的线勾上默认，可以点拒绝，不勾就不行。。。感觉不太对啊


### 请问个人中心头像上传，文件服务报错签名不对，如何解决啊？
![](https://img2018.cnblogs.com/blog/1231979/202002/1231979-20200228215910092-2062213992.png)

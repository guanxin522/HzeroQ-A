### 请问一下把java8切换成java9微服务启动不起来，是因为版本不支持吗
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304152932098-910694693.png)

>不应该我用11都能起来
>你看看启动失败的原因是什么

是要引入什么依赖吗
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304152956225-678836981.png)

>参考这个解决方案  https://blog.csdn.net/alger_magic/article/details/83041811

那就是说默认只支持java8，要用java9+每个服务都得依赖咯

>嗯

OK


### 问一下大佬们 文件服务已经配置文件存储位置为本地，上传图片成功，下载图片成功，但是无法预览图片。日志文件没有报错信息，页面显示
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153054312-217121163.png)

是需要修改路由配置吗

>有配置nginx代理吗

这个
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153123594-862628274.png)

>把你的文件服务配置截图看看

开始Nginx和文件存储服务路径配置的都是/hzero/data/，还是没用所以修改了线上的文件存储配置
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153142669-1007627257.png)

>你这个ip是文件服务的ip地址嘛

是的

>路径映射也不对应，应该设置上面的那个配置为默认
>nginx是在1.190这个机器上嘛

是的

>这两个配置是对的
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153231885-432787315.png)

开始的时候使用这个这两个，但是还是无法访问所以我改了一下试试
可以进行上传下载，但是无法预览
文件也确实传到了服务器上

>你不配置nginx也能上传，不能预览就是nginx配置不对，你把server_name配置删了，重启nginx试试

好的 稍等一下 我是本地开的虚拟机 应用开太多 内存溢出了
文件存储配置不能修改
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153839167-505877366.png)
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153848259-1244341494.png)

已经解决了 我在后台数据表中将hfle_storage_config配置删除后重新添加，本地代理地址没有添加http://所以图片无法预览


### 问一下 ，hzero有基于https请求的封装么？

>看一下群文件的这个
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153425004-861914717.png)

好嘞谢谢

>这个封装是什么意思，是要调用外部https的API还是我们的前后端访问地址用https方式对外暴露

调用外部的api

>那可以使用接口平台来做透传
>新版本的接口平台支持https的API了

这个是什么意思，没明白

>用接口平台服务，可以去看文档了解

是这个么
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153512515-154687872.png)




### 工作流组件1.2.0，其他部分1.1.1版本，然后工作流组件里边新增/修改接口之后重启，iam_permission里边的接口信息不会新增或者修改，必须先把组件版本改回1.1.1重启之后才能正常，请问有没有什么文档或者配置需要修改才能解决这个问题呢？

>融合开发环境工作流重启


### 请问启动工作流今天突然员工编号在提交工作流的时候改变是为什么，我在单据里面看是00045777，然后提交工作流就变成了000457，我用流程启动选当前我登录的用户就能传00045777，只要不选就是000457，而且员工表里面没有000457这个员工

>截图看看
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153547670-806091512.png)

>怎么发起的

单据上面发起的
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153605591-305456063.png)

我看服务器日志接收的参数也是000457
走的内部工作流 平台工作流

>你们是不是自己做二开了  这个页面样式不太对

没有做

>这个跟平台的展示都不一样啊
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153640183-1659196843.png)

哦，刚刚前端说只改了一下样式

>你现在流程启动自己启动一个试试看吧  看看符不符合预期

流程启动不选模拟用户就会传000457
刚刚提交的
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153714576-249444765.png)

如果我选模拟用户就能传这个员工编号过去
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153727074-1043521418.png)

>流程启动不指定员工默认用当前用户的员工发起

嗯知道，我选的这个就是我当前用户绑定的员工
应该传0004577，但是传的是000457

>啥意思  你说参数是这个    启动之后变成000457？
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304153922389-202856704.png)

对

>先看看后端返回参数吧

哪个地方返回的参数

>查询代办事项列表

代办事项没有，不是当前用户审批，我实在我发起的流程看的

>在页面发起一个，然后看看response
>看看用户有没有设置自动转交

没有设置
返回的也是00045777

>在流程启动页面上看看 启动接口儿多返回值

流程启动不选用户就默认startuserID就是000457

>那当前用户绑定的是不是这个员工？
>看看员工定义

![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304154018585-1385392854.png)

>有没有手工改过员工信息  删一下 hpfm:hr下的所有缓存试试

我们业务改了然后她又改回来了

应该是缓存问题

>那删一下缓存吧

谢谢  员工用户也会缓存，没想到
![](https://img2020.cnblogs.com/blog/1231979/202003/1231979-20200304154050085-273966842.png)

>没事  因为这个查询频率太高了

嗯嗯

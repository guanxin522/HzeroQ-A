### 我们这边用的redis的哨兵模式，由于值集会过期，但是过期后再访问并没有重新缓存
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200106123403598-1618295067.png)

我从值集页面点保存后可以重新加入到redis缓存 中，你们有没有遇到过？下面这个CRM.CUS.CLASS是我点了值集的保存后出来的
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200106123419142-1084153775.png)

>是不是客户端的redis连接不对啊
>如果保存直接能写入那客户端应该也能写入
>都是走平台服务的缓存处理逻辑

不太明白你说的客户端的redis不对是什么意思，指的是我redis的哨兵连接吗？
如果说是这个连接不对，那边我们这边的数据权限应该也有问题吧

话说这个是？
失败的记录？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200106123500654-855545960.png)

数据权限的功能是正常的

>redis的缓存补偿逻辑都是在平台服务的，同一个方法  感觉不太可能会出现你说的  保存的时候能写入 但是调用的时候又不会写入的问题

刚刚试了一下，我发现会出现在这里

这里是什么情况下会放入这里
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200106123607812-975761713.png)

>那说明没找到 看看这个key

而且刚刚多试了几次后，全部的都缓存进去了，变成92了？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200106123631770-1411090105.png)

刚刚的key是hpfm:lov:values:HPTL.TODO.TOREAD.TYPE:0:zh_CN

>这个值集是不是不存在啊

存在的  现在已经缓存进去了

>好

刚刚点值集中的这个保存，会清除values_fail_fast中的这个值集。然后我从页面访问，失败了两次，第三次的时候，其他也全部缓存完了
不太确定问题出在哪里
也有可能是我们哨兵不稳定？


>应该不是redis的问题

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200106123810877-988232507.png)


>保存的时候是不会触发redis写入的，保存的时候只是清除了该值集下所有相关的缓存
>fail_fast有值这个比较正常，如果值集维护在平台级，但是用非平台级角色访问，就会出现一条fail_fast，目的是加速下次查找的速度，不影响正常使用

嗯嗯，一开始没太了解这中间的过程，后面我不是说了嘛，点保存会消除values_fail_fast中对应的值集，但是访问页面会缓存失败，失败了几次后居然就成功了，顺带其他都缓存了

我现在用是的admin
租户管理员

>失败几次是指什么情况呢，是值集翻译还是通过API查值集呢
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200106123756737-1518268645.png)

就是页面访问值集会去values_fail_fast，并没有去values呀？ 

是通过API查的值集  /hpfm/v1/lovs/value/tree?HPTL.TODO.TOREAD.STATUS=2&HPTL.TODO.TOREAD.TYPE=1   这样

我们的版本是1.0.0.RELEASE

>要不清掉缓存试试直接访问/lovs/value这个接口试试


### hzero 的首页验证码登录我们有优化的计划吗，那个验证码特别不清晰，每个人平均每次登录3次以上，用户体验不是很好


### 现在hzero 登录后，工作台没有数据，需要重新刷新网页才可以显示工作台数据，这个我们在优化吗？

>是指登录后工作台没有显示卡片？
是的
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200106123932439-313644544.png)

>刷新之后卡片就出来了？
>工作台的路由应该是/workplace
>你们是不是改了登录成功后的跳转地址？

没有改啊，我是随便一个网页存的网址，进入后就是当前这个网址


>但是你这个不是工作台的路由，应该是你们自己开发的页面，页面没有加载出现，你F12看看控制台有没有报错

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200106124101413-1883637823.png)

没有报错哦
单纯的加载不出来

>你看看zsys/problemxxx这个路由对应的组件是什么，可能是没有加载到页面

所有页面重新登录后都有可能加载不出来，已经遇到好多次了，

>私聊，给我个线上环境看看


### 请问有没有Hzero0.8版本的平台文档呀？刚接手的项目打算用这个
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200106124137526-2004996609.png)

>没有，新项目建议用最新的

那再问一下，就是0.8版本的项目代码，迁移到1.1版本的会有兼容性问题吗




### 请问一下  微信企业号移动端的登录  hzero是没有集成的吧  是需要自己做的吧？
>后端提供移动端三方登录接口，移动端本身的三方流程肯定是需要自己开发的
>参考文档  http://hzerodoc.saas.hand-china.com/zh/docs/service/oauth/social/

好的  谢谢 我看看



### hzero平台有通过手动的方式把固定值集刷进redis缓存的方法吗
>1.2 版本将提供系统工具功能来刷新缓存

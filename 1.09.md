### 请问oauth服务报这个错误是什么原因，是初始化数据有问题嘛？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110216678-257108381.png)

>oauth_client 表有没有数据

有的
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110245430-2033664907.png)

需要指定跳转之后的路径嘛？
前端启动在8002端口了。这里是不是需要改？


>IAM启动的时候把这个打开，初始化缓存，应该是缓存中没有
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110319622-245141411.png)

好的

已经有开启了
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110404367-761806601.png)


### 请问 ouath服务报了这个错误 是什么原因？
```
Resolved [error="invalid_grant", error_description="Invalid redirect: http://dev.hzero.org:8082/ does not match one of the registered values: [http://dev.hzero.org]"] to ModelAndView: reference to view with name 'forward:/oauth/error'; model is {error=error="invalid_grant", error_description="Invalid redirect: http://dev.hzero.org:8082/ does not match one of the registered values: [http://dev.hzero.org]"}

```


>这里的地址，与你要跳转的地址对应不上
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172100564-1817234848.png)
>注意这里有缓存，后台处理缓存也需要处理下

好的 我看看


### 升级 1.2.0 的数据初始化，我们这边用 oracle 数据库的话，所有的数据只能放一个 schema 里吗？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172224388-222090392.png)
现在我们对于这样的数据初始化，跑脚本不行
我们上个版本的是按数据库分的 schema 的，到这个版本的时候初始化，这样搞不定了

> 你们 oracle 是划分 schema 的？

嗯嗯，是划分开了，要是不支持的话，我们就要搞一起了

>我们这边优化下工具



### 当切换多语言到 日本语的时候。这个切换语言就会报错 GET http://dev.hzero.org:8080/hpfm/v1/lovs/data?lovCode=HPFM.LANGUAGE 500 (Internal Server Error) 这里的意思是不是
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172255100-1797999640.png)

>你们如果不用这种语言的话，在语言维护下删掉吧

需要使用的。我们需要支持五种语言

>你看看 platform 后台日志报什么错误

找不到对应值集 在这个日本语环境下
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172334611-1654233517.png)

这个值集对应的语言需要自己每一个都去配置嘛？

比如这个语言的值集  现在 lov_value就只有对应的 中文和english 所以切换这两个是没问题的

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172410154-971032819.png)

如果需要支持五种语言 是不是每一个值集 都得配置五个这种value?

>要加上的 是的

好的，谢谢

>语言是不能动态新增的   你这个值集是哪里来的  我们应该没有这个值集

初始化数据就有了，但是语言维护哪里我在数据库新增了三种语言
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172523471-1413001473.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172533992-2132825636.png)

如果我需要增加语言，具体需要更改哪一些东西吗？
首先值集和值集视图中数据种子的哪一些就得新增这些所需要的语言

>你是什么版本的数据

这个研发组后面是不是可以提供一个增加语言的开发配置指引呢？我看demo环境已经支持日语了  
>会做的，还没有来得及弄

1.1.2版本
1.1.1版本的数据才对



### 请问下 我们现在的框架 支不支持PostgreSQL呢
>1.2已支持

好的 谢谢

### 请问怎么让请求头携带content length
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172734818-1782845339.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172742651-757500281.png)


>值集自己定一个属性

> 这是一个独立值集，找到进去新建一个属性
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172806574-1912455041.png)



### 您好，我想问一下，平台的导出组件中，如果想让某一列导出时实现自动换行，应该怎么设置呢，我看到注解中没有这个参数，用excelFiller设置也没有生效




### 请问一下各位大神 已经认证过了，然后用 DetailsHelper.getUserDetails()获取到的user是空的 这是啥情况，用DetailsHelper获取登陆用户需要注意什么吗

>public 接口是无法获取用户信息的，检查下

好的



### 请问hzero前端怎么单独启动一个模块，这样启动报错是什么情况呢
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110642981-934692742.png)

>执行yarn build:dll

>http://hzerodoc.saas.hand-china.com/zh/docs/development-guide/front-develop-guid/start/ 可以去看文档了解一下





### 启动hzero_oauth服务有上面的报错，我查看了hpfm_audit_login没有tenant_name，是已经删除的了，是不是对应的代码没有做修改
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110432766-50606511.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110444555-1155000152.png)

>什么版本  这个groovy是1.2版本的
>你的oauth服务是1.2吗

1.1.2.RELEASE

>那你应该用1.1的初始化数据呀



### 这个接口报错误
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110534460-765813733.png)

报以下错误
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110602168-685601761.png)
有没有人遇到过啊

>客户端模式调用 ，检查一下是否授权角色


### 大佬们，用户密码正确为啥拉不下来？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110948226-833795147.png)

>密码不是工号密码哈
>有个默认密码

不是使用猪齿鱼代码库的登录用户密码吗？

>私聊你告知   刘明伟

嗯嗯好的



### 请问有人遇到过 登录界面输入用户名和密码就跳转到404页面吗？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109111040458-1423137674.png)



### 初始化数据库的时候执行脚本报错了，能知道是什么原因吗
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109111100365-653504357.png)
oracle 数据库

>你的输入有问题？

看着应该是一样的啊
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109111130368-159409559.png)

>Mac 电脑？

>重定向url设置的页面不存在？  或者你看看36行 什么原因

36行是这个  ver=("saas" "op")
按理说没道理报错
嗯嗯，我这是  mac 电脑

>我们明天在mac上试试




![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109111314692-1768147207.png)

另外，这个语句在 oracle 中不支持，改成子查询的形式可以满足 
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109111318828-1969091193.png)

>我们改一下



### saml 单点登录配置那个域名配置的是什么地址？
>是saml的元数据地址

域名那个也是元数据的地址？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109111413823-127633632.png)

>域名是Hzero前端地址的代理地址



### 服务选配下载下来的hzero-admin的application.yml的数据库的用户名和密码都是用的SPRING_DATASOURCE_USERNAME？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109111225653-1423638705.png)

>才生成的还是之前生成的，之前他们有人写错了，后来修复过

后端1.1.2版的 今天在服务选配的

>这个问题记得修复下，1.1.2版本




### 请问，我这边部署hzero的时候，hzero1.1.1  config服务一启动，platform服务就挂掉是怎么回事呢？
>看看脚本，是不是误杀了对方的进程

我是直接java -jar 启动的服务，也会杀死别的进程吗

>不会，你的挂掉，是进程掉了没了？
是的

>你把你的命令发出来吧，这个一般都是操作的问题，或者你试试不在一台机器启动，会不会有问题，服务之间本身是独立的

这样启动的，有时候platform启动了 iam服务也会挂掉  很疑惑
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109104723560-1295836429.png)

不知道为啥

>发全一点


![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109104855749-1350136889.png)
  
>这是调用服务还是被调用服务啊  看被调用服务的日志  这个大概率是你服务没有注册到注册中心

我刚发的是是被调用方的日志，注册中心能看到被调用的服务
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109105015042-667013651.png)

>你掉工作流干嘛  你掉了工作流 工作流又掉了其他的 然后这里访问不通 应该是这样  




### git还是不能拉代码呀

>用https的方式可以呢，我刚验证了一下
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110151530-303426362.png)




### 我在本地启动工作流服务，然后在本地另一个服务中使用feign调用，似乎是因为授权认证的原因无法调通，有什么好的解决办法吗？
>报错是什么 看看被调用服务的日志

把本地服务发布到服务器上就可以正常跑了，但不方便测试，所以还是想看看有没有好的办法能在本地跑

>你是不是网络不通啊

Error get employee user : organizationId = 0, userId = -1

>没有 exception 么

这个
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109104754237-551397335.png)


>是不是你资源不够，服务器有保护机制，杀掉了进程，你启动的时候限定一下内存，这个问题自己看看吧

>app.jar 改成服务具体名称试试
好  我试试



### 大佬们，请教个问题，前端页面的表单，可以通过配置，实现说某些role的用户可以编辑，其他用户只能查看不？
>可以，权限集
好的谢谢，我一会研究一下

>可以设置个表单编辑权限集  然后分配给角色

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109110824205-605388040.png)



11:10分记录



### 请问一下,登录偶尔会有这种情况,刷新又好了,是什么原因,当前版本是0.9.0,可以不升版本修复吗
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172900832-1669786694.png)

>参考文档   http://hzerodoc.saas.hand-china.com/zh/docs/faq/concept/
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172915705-1741522343.png)

好的


### 请教一个问题哈，金斯瑞这边想做单点登录，和微软的SSO服务做集成，用户的windows账户、OA、SRM等各个系统的账户都是同一套，请问我们有这方面的经验吗


### 请问我这边self接口，调用没权限，正常应该跳转登录页面，这里没有跳转 有什么解决方案吗

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109172952230-1738082417.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173017951-150210098.png)
这个接口没问题，如果带个token可以正常访问


这里报红，但是并没有跳转登录页面，搞了好久了，不知道什么原因
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173055714-640686146.png)

>看 gateway 和 iam 日志

iam没报错，我看下gateway
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173133487-1074120361.png)

也没报错都没有报错

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173153795-1834393389.png)

都没报错，没有跳转登录页面，如果用token访问这个接口是可以调用的
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173223702-2044355239.png)

>控制台调用详细信息发出来看看

是这个吗

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173306125-1989014499.png)


>前端有问题？

不清楚

无权限跳转属于前端的问题？

>应该是前端有问题 你检查下
>前端接口调用有问题 access_token 也没传过去

>这是正常的
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173404674-1187700435.png)

>你都说了可以直接用 token 访问，那就只能是前端问题了

以我的理解，登录页面是不需要配置的吧，这里什么问题？

>你看下你们这里的是怎么写的

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173426747-537307762.png)

>给个线上环境看看

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173509781-1101606519.png)

https://srm.internet.genscript.com/

现在无权限不能跳转到登录页面

> 登录页面重定向过来的时候会带token

第一次遇到这问题
还没有到登录页面
一访问直接500
说这个接口有问题吧
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173602965-1136075033.png)

手动从swagger拉token可以用
说网关、Iam等等后端有问题吧
swagger登录和调用是正常的


>你们改过什么？

前端还是后端

>我印象中你以前改过nginx相关的东西？

改过

>你这个前端地址多少
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173643123-315725976.png)

>你前端是不是和后端一个地址 ？

前端地址

https://srm.internet.genscript.com

不一样

>后端呢
http://srm-api.internet.genscript.com:8080

都是外网环境

有解决方案吗

>nginx 8080 端口的配置发出来看看

前端https，后端http  是否有影响

没有配置后端的nginx

>你看报错
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173845098-1022568242.png)

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173900978-29849782.png)

>服务器没开放8080吧
开放了

17：35fen 


### 这个接口 404，是缺少啥依赖或者配置吗？企业微信绑定的跳转页面

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200109173246901-2070901023.png)

>依赖企业微信组件没有

没事了，可能是早上启动的时候由于 gitlab 的问题，没拉到最新代码




### 请问一下，1.1.1 支持员工离职（员工定义界面修改员工状态为离职）后自动锁定账户吗？
>不支持，目前没有打通这个关系

 后面有计划支持吗？ 

>这个可以，登记到问题平台吧 https://choerodon.com.cn/#/agile/work-list/backlog?type=project&id=161&name=HZERO%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86%E9%A1%B9%E7%9B%AE&category=GENERAL&organizationId=7

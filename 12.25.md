### 我限制了jvm 初始化内存大小是 1024m ，最后监控docker stats 占用还是400m 
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132225606-1700682970.png)

>容器内的jvm内存设置和容器占用应该是两个设置

jvm 初始化了 1g  容器难道不就应该占用1g，甚至更多吗

>私聊吧



### 请问一下，平台管理员没有权限创建租户怎么办？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132314482-367569737.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132320380-2116398949.png)

>你这是哪个页面

这个
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132602331-1598727127.png)


>这不是你们自己开发的功能吗

这好像是海马汇服务里面的


### 这边前端消息模板新建报错，已经将ckeditor复制到dist目录下了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132655398-1799280663.png)
还是不行

>报啥错？

就是发生意料之外的错误，本地启动时控制台报错富文本编辑器不显示。所以认为是组件的问题

>截图看一下ckeditor目录下的文件



### 请问一下这个消息模板中的sql是用来做什么的呢，有没有具体的例子
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132745425-226134353.png)

>消息模板的参数可以用sql查出来 名字一样就行


### 请问，用postman测试OAuth 密码模式登陆获取token，为什么一直都是账号密码错误 但是在web端登陆是可以的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132418821-1308434697.png)

,是加密方式出错了吗？测试的加密密码是直接从成功请请求的参数里拿来的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132451378-1008491304.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132502320-1292744933.png)

>你这里是不是多了个空格 
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132544024-2060611549.png)


嗯嗯  刚找到了



### 服务治理下的页面都报了404是什么原因？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132815552-1652801665.png)


>前端安装hzero-front-hadm了吗

安装了也是报404错误

>这个文件里面加了吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132903432-2069863373.png)

解决了


### 请问在注入RedisQueueHelper，控制台报这个问题该怎么解决？我在同一个类里注入RedisHelper都没事。就是RedisQueueHelper会报这个问题，请问这个可以怎么排查？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132939109-1507541517.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225132949987-1089310990.png)

>你什么版本

引入的是1.1.0的redis
但后端其余那些是1.0.x的

>不要这样依赖，starter-redis是从starter-core抽出来的，你这样依赖，starter-redis的配置类不会生效 
>RedisQueueHelper就没有注入


那我该怎么调整这一个？

>你可以把starter-redis的依赖放在starter-core的上面，这样配置类可以生效，但是我不能保证能兼容
>推荐全部升级1.1

如果暂时没法升到1.1的话，1.1之前是没有相关消息队列的即用方案的是吗？

>是的


### 大佬好，1.0.2版本的job在执行的时候，获取当前语境为空，这个是出于怎么样的考虑啊？

>升级1.0.6

我看版本更新记录1.0.6版本的，没有找到对这个地方的跟更新说明

>不好意思，1.0.5
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225133312480-1305628151.png)

我想了解一下，1.0.5对这个是做了什么处理，方便简单描述一下么？

>私聊把



### 请问调一个接口，调很久都调不通。可能是什么原因？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225133355677-528891417.png)
是服务配置文件设置的问题吗？

>

### 我想问下，新增时做dto校验的方法validObject为什么会封装在BaseController中,如果我需要在service层生成一些数据，做业务逻辑处理，再做校验，之后插入数据库，这样不行吗？

>直接用 ValidUtils



### 请问工作流审批完成之后调用审批接口无法传递参数是为什么，进入本地服务断点中参数为空
这个是我的参数
```
{"creationDate":"2019-12-20 16:19:53","objectVersionNumber":2,"_token":"/QZPwv0TKN2GHYViaFGvXWPnI1CKjqfP26xVFIwSIJ3UQsxNW4oCKRQOEhxcE4MwXrXaL0NtIm4jj/ipQT2QClpGv4VrKkd3yErwGBu0T9fVqaY9t8rGI33YiV5rP+Rm","transferHeaderId":1440025,"transactionTypeId":1080003,"processStatus":"NEW","transferNum":"DB201912003","description":"12321123","tenantId":0,"transactionName":"资产调拨","processStatusMeaning":"新建","employeeNum":"GBS001","workflowParam":{"processDefinitionKey":"DB","businessKey":"1440025","variables":[{"name":"transaction_id","requiredFlag":1,"value":"1440025","type":"string","description":"事务ID","variableId":"4dd7c927-6196-4e1d-8309-a9b652e51922"},{"name":"form_path","requiredFlag":0,"value":"/aatn/transfer-order/detail/1440025","type":"string","description":"外部表单地址","variableId":"240ed78b-4551-46bf-bc43-0521e3b5d2b0"}]}}
```

>审批完成之后为啥还会调用审批接口
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225133607956-885740001.png)

工作流审批完成监听器调用审批接口

大佬具体原因知道么，就是工作流审批结束之后监听器调用接口传不进去参数

>post?post请求所有接口都需要使用json接受

是post 传的是json格式，是不是工作流传递参数需要在接口定义和服务定义中加什么参数
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225133737521-1857017312.png)


>是


我们根据昨天的那个流程描述加了表达式，但是在流程监控页面是这样的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225135442248-1158654658.png)
不过待办列表页面是没问题的

>我们验证一下


### 文件下载报了个这个错
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225133426748-738245075.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225133437059-1417581431.png)

是文件名不能带空格吗，微软云存储

>是的

这块下载的时候，不能做些处理吗。。外企很多文件名都是英文的，然后可能就有很多这种带空格的文件

>文件名是url的一部分，不能有空格，我们会把空格转成+

是不是又是微软云的没改。。我这上传不报错，下载报错

>你怎么下载的，前端是不是没encode文件的url

从后端接口转发过去的，要做处理吗
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225133808834-216288488.png)


### 客户端模式获取的token，没权限调用接口服务API
>要分配一个角色


### 创建客户端授权出错 是因为租户id为undefined的原因嘛
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225133917669-1721080383.png)


### 请问 HZERO 的用户组的作用是什么？角色或者权限可以加载用户组上吗？

>就是一组用户，目前在发送消息那有用到
>角色本身就是一组权限的集合



### 请问一下编码 这个修改功能在哪个标签里面？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225133954533-1279735022.png)

>你说的是这个么
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134015093-383678395.png)

我是想修改参数里面的那个编码段 但是找不到入口。

>就是我截图这个


这些东西不应该有一个地方维护吗。
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134058777-476043793.png)


>哦 你说的是这个下拉列表么 这是一个值集  HPFM.CODE_RULE.VARIABLE  
>不需要的也可以自己干掉，这个几个只是示例


### 提一个小问题。就是新建一个编码段   直接改序号  之前的编码段在缓存里面   还会存在。
>好的我们检查一下



### 请问这是什么原因造成的呢？设置了一个命名空间并没有设置到head上去

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134208915-837430358.png)


### 新建环境prompt没自动刷进到缓存是哪块问题？


### 哪位大佬知道这几个字段的具体含义呀
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134250464-414934050.png)

>这不是平台的功能哦

>你知道吗
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134322165-1886620476.png)



### 请问下工作台这里的【设置布局】可以通过角色控制来隐藏吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134406037-815060376.png)

### 请问这个文件的网盘密码从哪里获取？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134417252-812478834.png)

>handhzero


### 麻烦问一下，租户管理员账号能给租户下面的员工分配菜单角色吗？


### 这种受数据权限的控制吗 我发现好像不生效 关联查询的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134520759-1021082625.png)

>这种应该不支持

也就是selectContact这个我在数据权限中配置了，其实是不管用的？

如果我提取到java中来，一个一个查应该是可以的吧？

>这种情况没测过 我们验证一下 看着应该是支持的

嗯嗯，好的


### 请问调度任务，什么时候会出现一个并发请求会自动跑两次的情况，
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134739883-144790501.png)

>你的调度服务是双节点嘛
不是啊

>这两次执行的开始时间是一样的？


时间是一样的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134941599-755250735.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134948273-1637206093.png)

执行器就一个

>你们用的数据库是什么

mysql


>调度服务的配置文件，这里改一下再试试
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225135043713-1197266484.png)



### 麻烦帮忙看下这个问题，我按照文档进行了配置，当前返回字段还是存在，后台没有报错，这个怎么解决？ 
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134806747-1022875841.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225134854410-1999706945.png)


>我以为是接口平台的问题，你看看这个配置开启了么 
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225135231270-882160540.png)

好的

>服务要添加 boot-iam 的依赖

好 我验证一下

接口字段响应权限配置的可以了，谢谢。



### 大佬，就是我在菜单里面添加一个权限集，但是在角色分配权限的时候，看不到这个权限集是为什么呢？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225135924380-1164216395.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225135928016-205713312.png)

>先给上级角色分配了先
OK


### 请问ValidUtils咋用，能校验值集么

>可以

请问下怎么用，能给个试例么

>注入Validator，如果要做值集校验再字段上加@LovValue注解

好的 


### 请问各位有试过hzero的redis消息队列发过去的队列没有被消费吗?查看了redis，对应的信息是有的，但没有被消费
>你不是自己写了吗

嗯，是的，但也基本上是照搬的1.1.0那些。可是没有被消费到


### 请问下这个预览组件报错是什么原因？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225135302587-1171996384.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225135306835-684075905.png)

>你配置预览工具了嘛

8012这个端口哪里配置的 前端说是平台的 我们没有自己配置
这个是之前的功能 我没配置过 请问下要怎么配置啊
1.0.0没报错 1.1.0 报错的  是不是改了什么配置？

>参考  http://hzerodoc.saas.hand-china.com/zh/docs/service/file/

不对啊  这个FILE服务的端口也不是8012

>你看看文档，文件预览对接了三方服务


### 请问通用导入的时候，数据源已经连接成功，引入组件后，在application.yml配置文件中添加初始化表的配置，服务启动之后，himp_data、himp_import、himp_local_template这几张表没有自动建立出来，有大佬遇到过么
>init-table配置开启了？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225135728017-1144841135.png)
依赖也加了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225135732255-1392417338.png)

>这样的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225135817807-367334152.png)


好的，我删hzero再试试


你好，请问启动完还是没有成功初始化表出来，遇到过么
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225140003440-977147937.png)

>你配置的缩进不对
好的，谢谢


### 大佬问个问题，hzero的租户维护，默认会创建租户管理员角色，但是有时会创建失败
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225140200791-412288866.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225140205104-2107701876.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225140210035-435970627.png)

>哪个版本

1.0.1

>建议升到 1.1 之前是有bug的

### 平台管理员角色没有创建菜单的选项，要检查哪些配置的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225140248054-1062386034.png)

>先调用IAM的这个接口把权限集按钮都挂到超级管理员上
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225140341297-839471450.png)

跑了，然后呢


>把权限集分配给你这个角色

### SecurityTokenHelper做数据防篡改校验的时候,实体类继承了AuditDomain,但是拿不到_token是什么原因呢？使用validToken一直报token not found

>看日志有没有什么信息


### 有个iam服务 区号查询多语言问题
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225140129520-868274028.png)

>是SRM门户的页面用到的么

是的


### 各位大佬,lov的feignClient不能传语言吗,
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225140447015-142466553.png)

>默认取的当前用户的语言

能手工干预吗.

>目前不能，后面可以加个语言参数

我看了下,查缓存是可以手工干预的,
我目前发现redis里面en_US的独立值集缓存都丢了,
这个应该怎么重刷回来




### hzero-asgard引入的asgard-service:jar:0.15，这块sql不兼容oracle，关键字，
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191225140609499-899725661.png)

```
org.hzero:hzero-asgard:jar:1.0.0.RELEASE:compile
io.choerodon:asgard-service:jar:0.15.0.RELEASE:compile
```

>我看看猪齿鱼有没有修复
好的


13:52:14 记录

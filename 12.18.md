### 前端调用这个接口的时候，路径里会出现两个v1？ 1.0.2
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218152857681-1059490968.png)

>检查一下你的导入模板
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218152941026-1249491654.png)

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153718889-924154835.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153725495-1201757371.png)

>用的什么版本的火狐？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153856337-287775847.png)

应该是那个路径503导致的

### http://api.h0-test.csleasing.com.cn/hwfp/v1/0/process/instance/specified-sequence?processInstanceId=58700这个接口是什么，我们这边一直都是报
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153011175-1026560915.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153018486-1576266559.png)



### iam这个接口，我看SQL日志是有返回3条的，但是最后的结果却没有了

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153050177-606735972.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153057248-1862487051.png)

我看代码这里好像也没什么问题，会是什么原因呢？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153105852-333161146.png)

>是不是开启了角色合并

没有开
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153144371-1137106048.png)

默认是开的？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153208942-165906320.png)

>应该不是的

那我看看是哪里的问题

我修改了为禁用都是1
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153437401-1516859503.png)

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153453593-630722767.png)

>重新登录 默认取系统配置 你看下

是这个问题，有人开启了角色合并



###  1.1.1 验证码随便输入可以直接登陆   前台我是1.1.0
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218152719368-110791818.png)

是前后台不一致导致的这个问题吗 请教下
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218152753253-1673836845.png)


### 我现在发现一个 1.1.1 的验证码我现在随便输入都可以登陆 而且OAUTH服务没有报错 会是什么问题？ OAUTH服务的版本是1.1.1

>演示我看看

登陆成功了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218154203321-1317802879.png)

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218154235720-1626016425.png)

就是验证码我可以随便输入

>oauth 做了客制化？

我特意把客制化的全部先删掉了 现在看到的就是原始界面

>你把源码发给我看看吧

而且我测试发现如果我密码输错3次 第4次的时候 提示我输入验证码 就会验证验证码的有效性
也就是说 前3次就算让我输验证码 后台也没有验证我输入的对不对 我测试的情况好像是这个样子


>是不是开起了这个配置
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218154425829-1952389703.png)

我开了 我现在要的效果就是界面一打开就出现这个验证码
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218154509091-1117677286.png)
我升级就是为了这个

>光开了这个还不行，密码策略要改

哦 要怎么改

>改为 0 看下图
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218154602652-2029186893.png)


设置完要重启吗  我还是登陆进去了

> 加上这个配置 hzero.captcha.always-enable:true


可以了  
所以一共需要在APPLICATION.YML中配置 `hzero.captcha.always-enable:true` 和 ` enable-always-captcha:true` 同时`设置安全策略验证码的错误次数为0`

>这个应该是配置不统一导致的，我后面再优化下

### 请问hzero有没有那种通过角色去分配数据权限的功能配置？就是比如我某个角色在某些查询页面上能看到的就只能是某些数据？如果单纯的像通过hzero的页面配置，有没有提供这种数据权限控制的功能点呢？类似于一个角色为运营部的然后那么他在查询页里就只能看到某数据库表中某字段为运营部的数据信息




### 1.1.0 新增租户报错  找到后台报错原因了 是因为   
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218155507142-305217444.png)
但是这个编码是写死的吗 我前台传的不是这个

>后端会默认创建租户管理员

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218155551307-1000449795.png)
我已经有了这个编码了
所以报错违反唯一性约束 后台没有判断是否存在就会直接插入吗

>那你这条数据怎么进去的呢

这个是很早很早以前的 应该是0.9.0的版本我就插入进去的

>租户应该不同吧

8月份我创建的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218155702765-1637383846.png)

哦 是不是要把表的唯一约束改成租户加编码code
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218155735318-1440166384.png)


>看这个
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218155753356-1254875029.png)

现在的表是直接限制了编码唯一

>你应该没更新表结构吧

我是按照这个批量更新去更新的 我再试一次
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218155835107-243005881.png)

>参考这个
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218155900819-2027595330.png)


我这里是1.1.0

>0.11.0 到 1.0.0 的时候，跨版本升级建议看下中间版本的变更

这个我之前就修复过

我没有跨版本啊 我是从0.11.0 升级到1.0.0 这一次是从1.0.0 升级到1.1.0 我再检查下 这个我之前执行过的

我刚确认了第一点1.0.0 升级到1.1.0我肯定执行过plat_form那个升级的命令（因为其他结构都有了）

我再确认第二点

可以把最新的这个表结构给我发下吗

我手动更新下

> 拉一下最新的hzero-resource就有了

 这是新版升级的时候替换的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160551341-536378968.png)

我上一句都是成功的加了字段 下一句可能执行的时候失败了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160627226-468741870.png)




### 时间可以帮忙看看这个吗  http://api.h0-test.csleasing.com.cn/hwfp/v1/0/process/instance/specified-sequence?processInstanceId=58700这个接口是什么，我们这边一直都是报
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160704904-1419155594.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160710851-1954029330.png)

>哦哦 你这个是什么版本  这个升级就好了

1.0.4  升级到哪一个版本
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160752377-295847551.png)
1.0.5

>1.0.4是parent么

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160820277-1420769575.png)

>parent升级1.0.9

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164738411-2128969297.png)

我现在已经修改到1.0.9
但是在访问待办页面时，这个接口还是会报这个错

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164754111-1528923613.png)


### 创建租户时报错 请问是什么原因
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160006696-1699932381.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160034406-785179885.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160045185-1083481628.png)

>ANONYMOUS 的ID改为 -1，hiam_user_info 同样

这是bug还是哪里没弄对

>这个数据是怎么来的 是执行数据初始化脚本跑出来的么

是的

>什么版本的数据
1.1.0

>我看excel中是正确的 你要不重新拉一下
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160146963-548998487.png)

这是哪个文件

>1.1.0.RELEASE/init-data/saas/hzero_platform/iam/hzero-iam-saas-base.xlsx

这是我的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160226629-1461456231.png)

>重新拉一下吧

重新拉会不会把我们已经建的数据覆盖掉 拉的范围应该怎么控制

>没事  hzero-resource直接拉就好了  不影响历史数据  错误数据会修复

我们在系统里已经建了很多值集

>只要不是改的我们的种子数据 其他的不影响

>或者就吧用户这个数据手动修复一下吧

可以按照初始安装那样来重新覆盖所有服务的数据不

>可以

### 请问在服务器跑服务，提示这个什么原因？注册和网关都启动了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160431417-1136779985.png)

>try cacth启动类 然后打印异常看看


### 请问HZERO调度任务，客户端执行结果一直处于运行中，有什么操作可以让任务一调度直接运行吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218154630439-536178873.png)

>私聊吧


### 这个方法是有bug吗
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218154651329-1942460446.png)




### 请问一下编码规则里我希望后台传入值，加上流水号组成编码，但是现在变量固定了只有这三个值，我要如何配置？？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218154732528-1384310793.png)

>这个段值是自己配置的

>就是后台传的，配置的目的是减少输入可能引起的错误，这是一个 固定值集

 是在值集配置里配置？？
 
 >是的  HPFM.CODE_RULE.VARIABLE  可以自己去调整，里面的只是示例，可以删除也没事





### 请问有大佬用过阿里巴巴的easy Excel做数据导出吗？有个问题想请教一下

>如果不用我们Hzero的标准导出，想自定义导出建议看下easy POI，文档很丰富，和easyExcel使用差不多

>http://easypoi.mydoc.io/

>一般不建议找其他新组件。除非后面我们加到了平台里面，要不然没有团队做支撑




### 请问，配置文件里的执行器没有自动注册的原因是什么？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218153804838-1350302722.png)

>什么版本
1.0.2
>私聊吧


### 请问一下大佬们，hzero1.1.0 菜单配置这里的图标可以自己新增一些其他样式的吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218154041826-984848634.png)

>看一下这个  http://hzerodoc.saas.hand-china.com/zh/docs/development-guide/front-develop-guid/component/icons/


### 请问一下哪个项目有用Hzero标准的工作流？

>用hzero工作流的项目很多，合同产品，SRM交付的产品工作流都用得很多，直接说问题吧




### 这个是有bug吗 .where()条件只有主键能生效 其他字段不会被加进where条件
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160907976-732564112.png)

>需要在字段上加@Where注解

我加了where注解也没用生效

>注解哪个包的 org.hzero.mybatis.common.query.Where 这个么


### 好像是redis的问题
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218160948101-753392361.png)

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218161024014-491419640.png)
这已经启动过了的

>你要保证你的redis能够正常可用，而不仅仅是启动

之前是OK的，我服务器是在虚拟机里面的，估计是暂停虚拟机导致的问题吧


### 我这边升级到1.1.0以后 发现系统功能子账户导入的新建按钮没有了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218161242343-1634153760.png)

我检查过权限配置了现在只有管理员登陆有新建按钮
请问下这个和前端代码版本有关系吗

 admin登陆的这些按钮
 ![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218162408744-574316165.png)

>给角色分配权限了吗？

我删掉重新再配一次  配过了

>没，是页面上的按钮权限

按钮还需要单独权限吗 我检查下

>嗯嗯，你看看是不是按钮权限的数据有没有导入

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218162613114-1742722715.png)


>你们用的应该是1.1.x的前端吧？
1.1.0
按钮权限是什么意思
我给分配了子账户管理 现在可以只分配菜单里面的某个按钮吗？


>http://hzerodoc.saas.hand-china.com/zh/docs/development-guide/front-develop-guid/component/permission/

以后的版本都需要这样设置是吗
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218163113913-1516464159.png)

>平台这边的标准功能的按钮做了控制

那我这个是不是就是没有新的默认权限集
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218163140347-1552735467.png)

>http://hzerodoc.saas.hand-china.com/zh/docs/release-notes/v1.0/changelog_v1.0.2/

我看文档介绍是会自动生成 我目前没有生成



### 值集视图页面的预览功能是不是只有平台管理员才可以使用？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218163231767-2020005584.png)


### 目前看来，是调接口前会校验当前调用的用户id，但是我们目前是a系统调用我们的接口，我们处理完一些逻辑之后再去调用b系统，没有“当前用户”。要怎么给它设置一个值呢
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164106802-292685495.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164117807-772216180.png)



### 我新建了一个租户，给他加了值集视图的菜单，点预览的时候一直报403lov无权限
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164022431-655755668.png)

请问是要在什么地方配置吗

>http://hzerodoc.saas.hand-china.com/zh/docs/faq/api/
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164040912-1671558305.png)


![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164138383-123706243.png)

没有权限集按钮

>你这是租户级的功能吗？去平台角色下去处理

### 请问我在搭建HZERO的1.1.1.RELEASE时，手动刷新权限报403是为什么呀？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164212080-1761650282.png)

>admin服务启动了么

启动了

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164248473-532532615.png)

>重启一下 admin 和iam试试

可以了，谢谢
这是我之前启动顺序不对吗？ 

### 请问下这里timeout报错，可以在哪里设置超时的时间吗
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164311019-1148859190.png)

>试试这个
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164328731-373982359.png)

>http://hzerodoc.saas.hand-china.com/zh/docs/release-notes/v1.0/changelog_v1.0.2/
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164354642-494354583.png)



### 这里更新报错，无法实例化
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164441135-1801791861.png)

> 有其他的日志么 这个貌似看不出来原因
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164514523-1665781212.png)


>能打个断点看看是怎么调用到这里的么

重启下就好了


### 请问一下大佬们，1.1.0 菜单配置这里类型为外部链接时，可以支持在浏览器新开页签吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164533614-1620406891.png)

>目前外链的定位不支持这种模式

 我们这边有需求外链到其它系统中，后续有计划支持吗？
 
 >一定要做到菜单上吗，我觉得有点怪，你做到其他地方就是一个<a>标签的问题哈
 
 >或者你们自己开发个卡片什么的，快捷入口之类的卡片，用来放这种外部系统的入口
 
 客户想把其它系统的常用功能放在菜单里面，因为其它系统的常用功能可能比较多，放卡片比较挤。
 
 >我们现在提供这种模式，是想整合外部系统，但是感观上尽量达到一体的效果，而不是菜单作为一个链接入口，卡片可以自己设计得很优化，你做大点不就好了，我觉得比菜单体验更好呢
 
>功能定位问题，后面我们再看看需不需要加到菜单里哈，暂时建议用卡片处理 



### 请问下调度任务这里的报警邮件功能，是只要填上收件邮箱就可以了吗？它是默认关联 HSDR.SCHEDULER_ALARM 这个消息发送配置的吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164847823-2080728407.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218164857753-1270071268.png)

消息发送这里直接测试发送是可以发出来的，但是调度任务那里失败了不会发邮件出来

>失败告警，只有再任务执行失败时才会发出

任务是执行失败的了，但是没有收到邮件

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218165058497-1280804241.png)

>消息监控有记录嘛

有的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218165138533-484693958.png)

>消息监控


### 多sheet页导入，如果最后一个sheet页报错了，前面的sheet不回滚吗？
>不回滚

那这个多sheet页导入适合什么场景？
这种情况下多sheet页导入和多个导入模板(里面只有一个sheet)就没任何区别  每个sheet都是孤立的

>看代码应该是会回滚的。 是有什么问题码


### 我的服务里面没有这个，请问这个是引入什么pom文件里面的哪一个呢？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218165318707-1115141626.png)

>hzero-boot-platform


### iam_role_permission  请问这个表的数据修改是哪里会修改 

>角色分配权限之类的操作

我这边出了一个问题 是有人把这个 enable_flag都设置成0
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191218165411099-1788656560.png)
但是我不知道是哪个功能哪个操作导致的
数据修复了
>

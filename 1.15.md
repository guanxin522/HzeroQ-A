### 麻烦问一下  iam从1.0.1升级到了1.0.6  这个按钮没了  该如何修复
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115154527503-551560786.png)

>菜单配置那边有没有新建按钮？

这个数据子账户的2级页面，针对这种2级页面。  在权限维护的时候如何区分1级界面和2级界面的

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115154607773-208556479.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115154625539-1254191559.png)

那儿应该有2个按钮，新增和删除   对应的code分别是：
hiam.sub-account-org.users.button.createEdit
hiam.sub-account-org.users.button.deleteEdit

这个该如何维护进去


>子账户有个查询条件是 用户类型，你看看  平台用户会有这个删除和新建的按钮

这2个按钮跟这个用户类型有什么关系

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115154749035-1201156596.png)

>有相关的控制逻辑在


大佬，查询是有这个用户类型的。但是按钮没有 这个该如何解决

>你看看你的用户是不是超级用户

用admin 登陆的
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115154849567-680915574.png)


>编辑的用户如果是超级用户，是不能新增或删除角色的，超级用户是后台修改的 is_admin 属性

好的  谢谢



### 请问一下，hzero-file服务的mapper，为啥写了其他数据库schema的表呀？

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115154918988-820824438.png)
用了屏蔽规则吗？

>这应该就是一个普通的跨服务查询，比如文件汇总查询页面，查看这个文件是哪个租户上传的，哪个用户上传的。

这个报错
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115154953268-1757966783.png)


>是的，数据权限那里重新保存一下

那需要给这张表维护一下默认schema？

>数据权限去看下，redis的问题
>重新保存会重写redis

嗯嗯，可以了。



### platform服务启动redis缓存初始化报错的问题，有没有临时的解决方案呀？

>你先把初始化关了吧，用系统工具来初始化数据

系统工具是1.2.0的前端后才有的吗？

>嗯

好的，谢谢。后续有更新麻烦通知一下。



### 我想请问下，hzero里面的导出功能，可以把table里面所有页的数据都一次性导出吗



### hzero的工作流的流程定义新建导入流程，导入成功但是在ACT_RE_PROCDEF表没有记录，
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115155418127-61392905.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115155425246-160222001.png)
问一下是什么原因？




### 请问一下，最新版的Hzero-tool可以从哪里获取



### 我想问下，hzero里面用ExcelExport 组件导出数据时，导出的数据量较大时会出现卡死的情况，这个有解吗

>是否使用了异步导出


### 请问一下 这边客户需要一个hzero 对各个浏览器的支持 版本 的说明，能否提供一下
>@张超-自动化测试 帮忙提供一下

私聊


### 请问一下租户编码 namespace 有客户端可以获取吗   namespace有通用的工具类获取吗
>当前用户的租户编码，在userDetail可以获取，别的租户的没有通用方法获取




### 请问https协议邮件服务器配置的端口不能是25？我这边测试报了一个错，想要确认下
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115155700197-404849728.png)

>一般是465端口

好的 那我和客户反馈下

>我们目前是25，能正常发送邮件

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115155737545-990806529.png)


我百度了下  我是https协议 需要465 而且客户邮件回复我只能在内网telnet 服务器名 和端口才通
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115155758929-2023763619.png)

>嗯嗯


>SSL需要一些配置参数
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115155839857-96067068.png)

嗯嗯 好的




### 请问工作流plus服务中，有没有什么办法可以查出某用户审批过的流程？
>我参与的流程 那边的数据是否满足需求？

不满足

>哪里不满足

我参与的流程应该额外包括了我的待办和我发起的流程吧

>是的  那目前应该没有能直接满足你需求的接口

用我参与的减去待办和我发起的，剩下的应该是最终的结果吧？

>应该不可以   我发起的不一定我不会参与审批吧
>如果你们工作流是继承的方式  可以自己开发一下这个接口

>我验证一下我参与的流程吧  我先确认一下这个

好的



### 麻烦问一下配置minio的代理地址的用处是什么
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115155957593-1968820041.png)

>作用是有些文件存储服务暴露出来的路径会和EndPoint有差异，这样就需要单独配置
>另外服务器本地存储暴露出来的地址也需要一个代理地址，一般通过nginx代理出去

谢谢

目前文件上传报错：连接失败，但是浏览器http://minio.huawei.onestep-cloud.com/可以访问。在服务器同时也可以ping通
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161233139-803826362.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161243371-315466187.png)
。不知道问题出在哪儿



### 请问1.1.0升级1.2.0的时候，interface服务多了一个lock的依赖，启动的时候会报错，排除这个依赖就能启动，这个要怎么处理呢
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115160109289-1375218295.png)

>分布式锁的配置，参考这个http://hzerodoc.saas.hand-china.com/zh/docs/development-component/starter/lock/





### 请问hzero使用redis 5.x 版的应该没问题吧？



### dalao们问一下。报这种错一般有什么原因。本地已经加了networks[0]
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115155259215-55615016.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115155307609-972790301.png)






###  请问 yarn install 的时候 报这个错误 有可能是什么引起的呢
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115155103078-1300700960.png)

>lerna bootstrap --registry http://nexus.saas.hand-china.com/content/groups/hzero-npm-group/    用这个命令安装依赖试试

好的 我试一下

> 你是0.11版本的吗/

是的 0.11 版本

>私聊






### 清除缓存或者重启服务后  编码流水会增加到x01   这个有考虑过优化一下嘛







### 想问下大家,我这边lov的数据源因为格式不是规范的,需要自己定义字段
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115154703446-1239628358.png)

数据格式是:
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115154720768-285581893.png)

但是在lov窗口上没有数据展示,
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115154734817-465376502.png)

这是什么原因呀?



### hzero-generator启动时报找不到ChoerodonLiquibaseChangeLogParser
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115160226656-67617600.png)

>私聊



### 提个优化建议：目前entity中属性值的 @NotNull   @Length 之类的注解校验，报错的时候都是直接取的 属性名称，比如下面这样
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115160326858-1143650289.png)

如果前端的校验漏掉了，后端抛出来的这样的错误信息用户是看不懂哪个字段报的错，用户会让开发人员把这个字段名称改成页面上他能看懂的样子，如果框架层的注解校验能够直接取 @ApiModelProperty 中的值，就会省去很多不必要的手动校验的麻烦，对提高交付效率有很大的帮助


>这种方案不太可行，javax的validation和swagger的依赖并不是强绑定的，而且swagger的字段属性描述不能满足多语言的需求，其实 @NotNull 或者 @Length这些注解是可以写message 属性来配置报错信息的，而且还可以用 Spring 的 i18n来处理多语言的问题，理论上来说还是建议前端校验做完善点比较好


但是自定义的 message 消息系统在抛出的时候还是会在前面自动拼上属性名，这个还是会对用户造成困扰，多语言的需求确实是没有考虑到，感谢回复，我们再想想有没有什么好的方案

>建议尽量前端处理，后端只是一层保险，这种校验的内容就不应该通过调用后端接口后返回

好的




### 文件上传报 客户端初始化失败 是啥原因， 文件存储配置了minio
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161352818-2113609769.png)

>参考一下这个文档 http://hzerodoc.saas.hand-china.com/zh/docs/installation-configuration/update/1.2/1.1.0-to-1.2.0/

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161448782-722182129.png)


文件服务， 除了要依赖hzero-file 还要依赖hzero-starter-file-minio吗？

>按照项目需要，自己加依赖

好的
  
  



### 请问工作流审批完成后调用的接口走了两次是为什么，我只在完成审批接口修改单据状态，并没有做别的操作

>你是说监听器掉了两次的意思么

嗯，再return之后再走进去了一次

>你是打断点了么？可能是超时重试了

没打断点也会这样，是服务器上面出现了问题再在本地测试发现调用了两次

>监听器定义看看

这个
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161615012-2128186683.png)

>流程图也发一下看看吧，你这边先保证监听器调用幂等吧 这个问题我验证一下

好的
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161717397-953791060.png)


>这两个节点都挂监听器了？有跳转条件么
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161804038-846790673.png)

一个同意一个拒绝，就给同意挂了监听




### platform服务的查询部门级组织列表接口unitCode  unitName  这两个的查询条件是只能过滤最上面层的数据么
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161840076-1696940161.png)
现在发现输入子部门的编号和名称都是无法过滤的  只有父节点的能查询到

> 你说的是什么功能？

/v1/{organizationId}/units/department  这个接口  我是用来做一个选择部门的LOV   
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162020504-717133442.png)

里面有两个查询参数  但是这个查询参数只能查询最外面一层的部门


>这个LOV是平台的功能么 还是你们自己写的？
>哪个功能

LOV是我们的  接口是平台的
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162056388-532182004.png)

>@赵晓宇-中台 看一下这个接口能不能满足他这个需求  或者有其他接口能给他么

>好 我去看下



### 你好  我想问下后续hzero前端支持移动端 大概要到什么时候？我们这边客户想大概了解一下



### 请问邮件配置测试服务器报错503验证不通过，如何解决？在内网登录是可以的  就是本地配置测试授权认证一直失败
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162151649-1326003396.png)

> 私聊

好的



### 请问一下   系统有现有的根据token获取用户信息的接口吗    还是要自己写？

>是什么场景，什么地方用

移动端登录
我拿到token   想根据token去获取相应的用户信息


>就是自己的用户信息对吧，那就是self接口

self 要一个userId

>和后端的一样，登录成功后获取用户信息  就是获取对应token的用户信息，不需要userId呀
>没有参数的

我看swagger上面有。
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162421583-51807517.png)


>应该是这个接口吧

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162433104-351203409.png)

好的。


### 能给个Hzero的测试环境地址么，想去体验下公告功能
之前这个地址http://hzerodevb.saas.hand-china.com/，进不去了

>是你自己想体验对吧，改一下备注，我私聊给你一个帐号



### 后端服务启动不起来报这个错误，有谁遇到过嘛？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162552500-7210925.png)

>依赖了boot-scheduler，必须指定执行器编码

好的，多谢，解决了


### 我有两个服务，一个正常启动，一个启动时卡住了，请问这是什么情况呢，卡住那个eureka上面有这个服务，不过swagger上面找不到
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162625796-1501891582.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162635776-693087822.png)

>你是怎么判断它卡住的  这个应该是启动正常了的   在服务治理里检查服务和路由存不存在

上面那张图是卡住那个，就一直不动了，下面这张图是正常的，会输出2020-01-15 15:17:15.118  INFO 7532 --- [freshExecutor-0] com.netflix.discovery.DiscoveryClient    : Disable delta property : true 这种信息


>你说的卡住之后 他就一直不打日志了？但是eureka上会一直有?

嗯嗯

>日志发出来看看吧

这个
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162900360-1609106859.png)


>看日志感觉没啥问题
>这是admin服务？

不是呢，是我们自己的一个服务
它就一直不打印日志了


>你多放一段时间  看看他在eureka上的状态怎么样
>但是如果你eureka能看到说明注册成功了  看不出来问题


### 文件服务的获取文件列表报错，请问这是咋回事，版本的问题吗？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162950174-1259053798.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115163000946-746851013.png)

>你什么版本呀

1.1。0

>私聊把





### 请问一下1.2.0的注册用户短信发送失败，会是什么原因导致的呀，我本地调试不了，看代码跑出错误的地方好像写的也没问题呀
```
org.hzero.message.infra.exception.SendMessageException: Unsupported server type : type code = [QCLOUD], tenantId = [0], templateCode = [HIAM.REGISTER_USER]
	at org.hzero.message.app.service.impl.SmsSendServiceImpl.sendMessage(SmsSendServiceImpl.java:114)
```

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162729399-1267821169.png)


>你有添加对应的短信服务依赖嘛

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115162802414-1356188162.png)

查看了一下的确没有依赖，谢谢，我再试试



### 升级完之后swagger进不去，登录跳转地址也不对，还要改什么吗
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161642559-905638115.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161654327-404791917.png)


>看下你的路由表 xxx_service_route 1.1以后是hadm_service_route 

这个表有啥问题吗

>更新了
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161907724-1730494782.png)

是因为这个问题？

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200115161934957-1861843275.png)


>私聊


16:30分

### 请问一下，单台redis服务配置了密码，hzero这边的环境变量是怎么设置的呢？直接是“password:密码”？
>嗯

配置好redis密码，出现认证失败了

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102100027675-1677971493.png)

>怎么配的
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102100112623-1327035150.png)

>修改这个
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102100134652-1625684370.png)

jar里没添加这个 我修改一下，重新打包，谢谢

>不用啊 你按spring标准的环境变量名重新写一下配置文件 就好了
已经重新打包完成了




### 大佬们请教个问题  定时任务已经执行完成了  为啥“客户端执行结果还是运行中啊”
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102100210864-2025705071.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102100214961-811634666.png)

请问一下，网关服务日志里出现这个error对服务有什么影响吗？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102100305858-356112547.png)

>无法从admin服务拉取服务路由

需要安装hzero-admin服务是吗？ 
我这边没有安装这个服务

>嗯


### 请问调度任务一次请求跑了两次是为什么呢？有添加quartz的这个配置
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102101110469-637520269.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102101138638-2117929260.png)



### 调度任务执行记录日志消息积累在消息队列里面没有被消费掉，请问是不是部署调度服务的时候有什么配置没有开启呀
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102101237291-590760990.png)

>调度服务要有配置，hzero.redis.redis-queue＝true

好的，谢谢



### 请问一下为什么没有重置  业务想要在每年元旦重置流水

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102101430472-1742081456.png)

就是编码规则的序列在跨年时没有重置

>检查下服务器时间，如果没问题，我们检查下

服务器时间没问题

>好，我们检查下，什么版本

1.1.0

我这边刚刚测试没复现，你们是不是手动清理过缓存

>你获取的编码规则值是多少

有可能

我们实际获得的编码规则值始终和这个当前值不一致

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102101854777-1674469901.png)

当前值总是101或者201或者301之类的

>连续获取 每次加100？  这种一般来说是缓存被删掉了

不是  实际值平时确实是正常走流水  比如34、35、36,但是有可能某天就突然跳到101、102、103，然后过去看编码规则的当前值，会发现是101（此时实际值已经是103）

这个跳我们也觉得是缓存问题，有解决的方案吗，或者就是说上线后不动缓存这个问题自然就迎刃而解？还有就是序列当前值和实际值不一致的问题（没什么影响，但确实有这个缺陷）

>这个应该是缓存被清掉了

好吧



### 请问请求接口报，请求参数13M左右，然后我把自己服务和网关服务的http post 改到20971520，还是报一样的错，请问还有什么需要配置的吗

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102101718131-2106334541.png)




### 如何清除失效或者不存在的消息通知？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102101744759-1079601619.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102101756733-1926776093.png)

>全部已读试试

搞定了


### LOV缓存是在什么时候缓存的？重启platform跟页面保存都刷新不了redis缓存
同步过来了



### 请问一下，访问swagger也报权限问题，怎么办呢？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102101206776-640864562.png)

是数据没初始化好么？

>网关跳过swagger路由，服务怎么生成的，配置不对吧


### 1.1.2 Oauth 登陆界面，加载 bootstrap 报红了
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102095540891-1113287689.png)
oauth界面加载时间很长，持续的空白页面
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102095557554-1820855197.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102095607451-283297044.png)

>这个已经改好了

我重新打包1.1.2还是？

>要不你先自己改下吧，这周会发1.2
>@xxx 指导下怎么改
>私聊

这些图标都显示不了了

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102095704801-1107939958.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102095716893-2036928265.png)

>怎么改的

就把缺失的 bootstrap 放回到原来的位置，刚刚那个问题就解决了。但是下面那几个图标之前至少还有一个微博的能显示，现在都不显示了
其他的没调整

>你们要这些三方登录吗，不要就把三方登录删掉就行了

暂不需要，我这个只是一个演示环境，只是觉得奇怪这些图标为啥都不显示

>你可以看下那些图片在文件服务器上有没有

这些图片的位置不在我这边啊
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102095817699-2074359721.png)

http://hzerodevoss.saas.hand-china.com/hz-public/

>你们自己上传 上传到你们的文件服务器上

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102095858606-1250789130.png)

>三方应用管理 系统配置

我刚刚传上去了一个 但它不显示
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102095930164-1436879442.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102095945637-526537798.png)

>在这里
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102095951325-661999139.png)

可以了~ 多谢


10:03记录



### 请问有大佬遇到这个问题吗，这个预查询的日志为什么关不了，我等级给成warn和error都不行，都能打印，是为什么？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102222628686-2062480366.png)

>检查一下是不是加了什么环境变量了，或者直接改成 root: info 试试

好的，我试试

还是不行，而且这个日志打印也没有等级显式，感觉就行直接println打印的
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223509285-853041176.png)

>是不是你们自己打的啊

不是呀

>我们平台没有这样的日志
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223538497-538174542.png)

>这个mybatis的日志 你们这边是不是加了什么日志配置啊

我看了下没加日志配置

>估计得你们自己解决  我们这边没有这样的问题



### 请问一下国际化文件里能自定义参数么



### 请问一下，hzero导出值集，菜单这些数据的那个工具在哪里，有文档吗
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102222729558-899546460.png)

不是有个hzero-tools吗，用来导出各个项目自己定义的值集这些

>换到这里了 导出是这个  好的，我看看

这是全部导吗，不能限制条件？？/

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102222815707-1314911855.png)

 >这是平台基础的，客制化的可以自己改查询条件限定

改哪里？

>xml/services/.xml



### 请问导入的平台服务是1.1.0版本但是服务启动的时候是1.0.0版本的日志信息，过个年出问题啦
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102222958644-1080930534.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223004818-2108019313.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223010108-1558784229.png)

>mvn dependency:tree 看看依赖树

是1.1.0的

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223115231-559500088.png)


>你截图不是Boot么

之前截错了

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223608137-253550319.png)

>你本地代码和之前截图那个不是同一个吧


### 请问一下    想要获取当前用户的菜单   只需要iam_menu  type 为menu的   从iam_role_permission   找对应iam_menu_permission  权限表 再到menu   好像找不到对应的关系  查不出来



### 请问用 hzero-front-cli 创建的项目，yarn build:all 报错  大佬们，该怎么解决

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102224943643-128374961.png)

>修改
```
在config/ webpack.dll.config.js文件下将
1.	const vendorsGraph = [  
2.	  'bizcharts',  
3.	  '@antv/data-set',  
4.	];  
更改为
1.	const vendorsGraph = [  
2.	  'echarts',  
3.	];

```

>重新 yarn build:dll


可以了，但是yarn start  又报错了

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102225336597-1336322665.png)


>在config/webpack.config.js 路径下添加  const lodash = require('lodash');



### 有大佬知道吗?批量导入的时候,点击下载模板报错,没找到
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223704266-833218343.png)




### 请问一下，页面时而报500这个错误是为什么？是因为Token过期吗？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102225418982-67655668.png)



### 值集翻译的时候  有关联tl表的数据  用id和name做key和meaning  解析的时候好像会报错   以查询公司为例  执行会报错  这个该问谁 
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102225439271-1964766458.png)

>你自己写的SQL？报错不是很明显吗


平台下查公司那个 不是自己写的

>哪个接口

值集含义转换功能 在值集是sql的时候  如果查了tl表  转换不出来  公司这个只是举例

>所以值集的SQL是你自己写的？  报错是因为关联的多张表有同样的字段，你可以为表设置个别名



### 请问后台代码生成文件过后，放在服务器上没有权限访问，该怎么解决？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102225459625-797958525.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102225510862-1941589714.png)


>参考文档http://hzerodoc.saas.hand-china.com/zh/docs/faq/api/

访问的是服务器上的静态资源没有权限，没有在写接口

>文件为什么不上传到文件服务器上

静态资源不在文件服务器上不能访问么

>那你可以在 gateway 的 skip-paths 配置跳过 /htms/tmp 这个API 静态资源不是接口



### 请问请求接口报这个错，服务的max-http-post-size调到20M，还是报一样的错，请求参数13M左右，请问还需要配置什么吗
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223142660-2118170840.png)

>私聊吧



### 配置外部链接这个是否问题吗？

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223152904-113251594.png)

中台配置外部链接这里配置不了，一直在报错，是我配置得有问题吗？
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223330207-1972863430.png)




### 各位大佬，请问一下PC端允许多处登录是关闭的，为什么互踢没有生效

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102225724948-628364033.png)

>哪个版本

1.1.1的

>这个在即将发布的 1.2 中修复了 下周发版

这个是什么原因造成的，我们可以自己修复吗

>比较复杂

升级影响大吗，比如数据库相关
是前后端都需要升级吗

>嗯 前端有提示踢下线的页面

好的，数据库需要升级吗

>应该是可以只升 oauth 的  就不需要升数据库   1.2 做了很多优化 还是可以升一下的

好的，下周具体几号发版



### 大佬们，这中写法是什么意思啊
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102230050566-633265431.png)
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102230102463-1525475599.png)
接口的实现类直接就是空了

>这是feign，服务间调用，实现类是错误返回，调用失败返回的日志什么的，查查feign

>使用feign的时候，指定fallback降级策略，这样调用不通会走降级策略不会报错


### 各位大佬，请问hdsp现在有没有接口可以用来打开一个tab页来展示外部网页呀？



### 请问一下大家有用Mac OS做远程后端的吗？我这边用Tunnelblick挂了VPN之后swagger还是500，大家有没有办法给支个招
>你是可以ping它了，远程可以ping通你吗？  要互ping的
  
>代码提交到远程，再远程启动你这个服务，然后测试

是的，现在就是能ping通服务器，但是应该是服务器ping不同自己这边

>那就对了  网关调用不了你本地的接口   代码提交到远程，再远程启动你这个服务，然后测试

是说提到库里吗？本地的服务好像没办法用swagger测试了
Windows下用VPN是可以的，Mac下面就不行了……

>你先把你的代码提交到git，然后服务器拉你的代码到服务器，启动你的服务器代码，再用swagger测试

>不能互ping应该是调用不通的  你可以用花生壳，把本地内网映射一下也可以




### 请问一下，我发现我们生产的LOV缓存在redis后，隔一段时间就不见了，你们有没有遇到过？和我们用的redis哨兵集群会有一定的关系吗
和这个有关系？ 也就是时间

![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223229018-1638101544.png)

>页面编辑会清除缓存，值集缓存自己也有超时时间

嗯嗯，看到这个时间了。不过奇怪的是，他清除了之后，没办法自己再加进去
也就是说我这边补偿缓存有点问题了  我再看看

>什么意思 你这边查询不会补偿缓存么？检查一下redis是不是链接错了

是的，我这边查询不会补偿缓存，redis的配置应该没错，只是好像有点问题。比如我有一个
![](https://img2018.cnblogs.com/blog/1231979/202001/1231979-20200102223425534-423855937.png)

，他只会缓存STATUS，TYPE好像就忽略了

>额 我们看看
嗯嗯

>可升到1.1.3



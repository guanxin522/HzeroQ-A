### 各位大佬，想问一下Hzero前端要调整框架这块的颜色，是可以在哪里定义什么变量来修改这块的背景色？还是有什么其他的修改方式啊？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217133456405-878597080.png)

>应该是覆盖样式的方式，找到对应的组件的class覆盖就可以了

>有一个ant-select-dropdown-menu的class和hover的效果


### 请问在使用消息客户端发送短信时，调用后返回的message里的值全是空是不是代表着没有发送成功？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217133543235-474940988.png)

>是否成功，在消息查询看发送日志

消息查询里没有我调用的那个记录，这个记录是但凡有用消息服务客户端发过短信的，无论失败与否都会记录的吗？

>是的  除非调用发送方法就出问题了，这种系统异常可能就记录不下来

发送短信的话，是否只需要配置这两个就够了
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217133625451-58623875.png)
还是说还得再配置多一个消息发送配置？


利用消息发送配置时报模板是必须的  ，但是我确实有在配置里添加了模板了，是我哪里还差了配置吗？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217133642319-637134591.png)

>看看模板是不是启用的

是启用的

>你这什么版本
1.0的

>异常截全一点儿看看

这是消息查询里反馈的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217133741010-611243501.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217133751399-1828282511.png)

>短信服务消息模板要在阿里云那边注册的

>把模板配置截图看看
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217133819222-300283661.png)

>外部编码必须要

还要在阿里云那边配置模板的？

>这个是需要在阿里云平台去申请的  你这个内容验证不过，新美心，这个是一个签名，单独申请
>剩下的内容申请短信模板，阿里云那边申请通过了就可以用了

这个外部编码是指什么？

>阿里云上面的模板代码

>说白了，你要用阿里云发送短信，就必须要用阿里云的短信模板，这里是一个映射关系

然后我们hzero的模板内容也必须跟阿里云上的模板内容一致吗？

>这个一致比较好，不一致也没有什么影响，因为我们的模板是通用的，可以用来发短信、邮件什么的，但是短信比较特殊

>阿里云上在这个功能下

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217133940552-1109957454.png)


### 有没有一个接口可以得到流程实例中的变量的？

>什么场景用这个

>列表接口可以返回

待办列表吗


有点奇怪，我这边流程启动，有传参，但是在列表查出来是空的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217134202517-571145181.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217134213330-1206024832.png)

>这是查询列表接口？要加参数
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217134230294-1322432160.png)

除了这一个接口还有其他接口可以查不

>你是要在什么场景下用

就是想在审批结束的时候，把变量取出来，去保存这些数据


>直接在单据里边定义需要保存的 变量  然后引用就好了

单据里边定义需要保存的变量是指流程单据定义“流程变量”是吧？引用是指在哪引用？

>嗯  服务任务中引用

嗯嗯，可以了，多谢


### 大佬，这个接口不会返回角色信息，角色有缓存 在redis吗？还是实时查的，我查IAM的服务里面这个接口是实时查的？但是我执行SQL是可以查出来数据的，你们有没有遇到过？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217134422388-1830926637.png)

>没有缓存，你要看日志中实际执行的SQL是什么
OK

>估计是不是有数据屏蔽什么的

### 请问下关于版本升级，数据库这块怎么去升级呢
>按照升级文档升级就行了

>修订版（即小版本）升级，数据库一般不会动，如果有需要动的，我们会写文档说明

哦哦，那我可以一次升级两个小版本吗 从1.0.0直接到1.2.0  从1.1.0 - 1.1.2
现在平台上好像还没发布最新版本的升级，请问什么时候发布呢

>现在最新的1.1.2   大版本就是1.1，发了两个修订版

>小版本升级刚说了，没有特殊情况不用动数据库，直接调整版本号就好




### 请问一下这个是什么原因呢？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217134100243-1033506378.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217134108519-831202690.png)

又看了一下，这个返回的结果为禁止访问

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217134127881-489248573.png)

>检查  值集视图   存不存在，如果存在 在页面上重新保存试试
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217134255306-2033545211.png)


### 请问一下，接口服务注册一个外围的webservice接口报这个，这个是接口平台平台报出来的错误吗，如果是，该怎么帮？？？
```
{
  "status": "415",
  "message": "服务器无法为请求提供服务，因为不支持该媒体类型。",
  "payload": "服务器无法为请求提供服务，因为不支持该媒体类型。",
  "contentType": {
    "mimeType": "text/html",
    "charset": null
  }
}
```

请问一下，接口平台的使用能去问谁，我这边要给客户演示调用外部webservice接口的案例，使用遇到问题了




### 请问一下，这个多语言显示不出来，是哪个服务的数据没有初始化过来吗？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217134613649-1786517377.png)

>1.1.1修复了多语言缓存的问题

要升级才可以吗？

>私聊吧

### 请问1.1.2添加了CASE WHEN后跨库拼前缀的支持了吗
>加了，你升级试试

还是没拼上 是我操作有问题吗
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217210330044-1441773075.png)


![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217210258108-180773639.png)

>什么时候升级的
昨天晚上



### hzero-starter-mybatis-mapper拉不到1.1.2的包
>升级都是parent整体升级


### 大佬，oauth重写，这个有没有DEMO
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217210202489-1474247763.png)

>这个修改在hzero-boot-platform
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217210232903-694929132.png)

我们这需要海马汇跳转过来

>具体什么需求




### 麻烦问一下，如果在创建租户的时候，没有生成oauth_password_policy的记录。请问有可调用的接口来生成该记录吗

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217210530481-1385531222.png)

>新版本中会修复这个问题，你可以先手动在数据库维护一条数据

有现成的接口调用吗？因为租户有点多

>木有，你可以写SQL批量插入嘛


### 请教个问题，公告管理里面公告上传了附件，但是在站内消息里面看不到下载附件的地方
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217210629870-539953157.png)
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217210643637-1557832742.png)

>什么版本？

1.1.0

>这个问题1.1.2有修复  直接平滑升级到1.1.2吧，前后端一起升


### hzero目前有没有集成mybatis的代码生成工具，直接通过表生成相应的文件树（mapper,infra,domain）


### 请教下 我们一个消息发送配置 配置一个站内消息 1个邮箱消息  可以同时发吗

>使用消息发送配置功能就可以了

我试过可以配置 但是传参不知道怎么传
我配置了一个邮箱 1个站内  站内传的是用户ID 邮箱需要发送的邮件  我还是一样的设置 RECIVER就可以吗

>嗯  使用messageClient的sendMessage方法
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217210802888-498940931.png)

我现在是只设置了ID 我把邮箱也设置上就行了对吧

>用一个receiver对象也可以的

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217210832611-149285368.png)


### 请问我在oauth服务里覆盖了两个css，然后修改了css里的内容，但发现在页面上无效，请问我这个覆盖路径以及方式对吗？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217210942095-1326060329.png)

>帮忙看看

### 请问 前端获取token 报401。是哪边出错了吗
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211004391-2104940465.png)

>这是哪里的接口

我是 移动端模拟pc端的登陆。将pc端的用户名 加密过的密码 直接用
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211109779-295233726.png)
这种方式调用 就报错了

>密码要用 RSA 加密


### 前端1.1在执行yarn build:dll的时候报这个错，请问是什么原因？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211139094-1346803129.png)

>改成这样，再执行一次 yarn build:dll试试
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211245059-476460482.png)

可以了，谢谢


### 大家好，本地开发服务在swagger上报错500，检查了下服务器ping不通本地。导致服务器ping不通本地的原因已经排除防火墙，本地网卡的问题，请问还可以往哪方面排查？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211043638-366371911.png)

>服务器上 ping 你本地的IP试试能不能通
不通，已经排除了防火墙和本地网卡的问题
还能往那些方面排查呢

>那就是无法访问你本地咯 IP 确认正确？

正确的


### 1.1.0文件上传报错，引入的feign依赖
```
<dependency>
    <groupId>org.hzero.starter</groupId>
    <artifactId>hzero-starter-feign-replay</artifactId>
</dependency>
```
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211432191-1630919366.png)


>升级1.1.1，已经处理了


### 你好，请问一下我在前端项目中，做表格拖拽时，引用react-dnd依赖，会报错Attempted import error: 'DragDropContext' is not exported from 'react-dnd'. 应该如何解决


### 请问文件导入这里的arg是什么？请求参数吗
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211730661-1902965005.png)


### 请问我在用短信发送的过程中发现sendSms后返回的实体里的值全是空，短信也没有发送出去，消息查询记录里也没有相关的发送记录，控制台也没有报错，请问这个可以怎么排查嘛？
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211748514-780567285.png)

>看发消息的服务和消息服务日志

请问这个参数是什么？我在平台文档上好像没看到这个参数
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211809438-119522737.png)

是这个吗？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211824131-1362412606.png)

>是的

哎，我传了喔，怎么还报错了

>消息客户端报错吗  还是服务端
服务端  客户端没报错

>什么版本，我看下吧
是1.0的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211922768-1518446616.png)

### 异步没有一次性执行的方法吗。。。

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211936038-1899647951.png)

>没有

那要是导入的数量大一些。。岂不是只能一个一个的调用接口。。

>是

>还是不太一样，数据量大，如果异步，那就应该用标准那个导入页面，这样可以监控到错误数据和历史，但是如果一次性导入，没有页面的，就看不到过程数据了和错误了，目前不支持这样玩

那我写个按钮，把页面跳过去就好了


### 请问一下哪个项目有用Hzero标准的工作流？


### 前端调用这个接口的时候，路径里会出现两个v1？ 1.0.2
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217212735229-956645416.png)




###  1.1.0 验证码随便输入可以直接登陆

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217212804204-303660647.png)




### 大佬 请问下我们现在支持1个用户存在2个租户下的情况吗

>一直都支持呀

一家公司有1个用户同时在2个事业部 我分2个租户 现在我们的策略是 1个用户2个租户？ 还是2个租户各创建一个用户

>所属租户只有一个，其他租户给用户赋权限，他就可以操作租户下的功能

>用户是整个平台共享的，与租户的关系，你可以理解成权限的关系  一家公司两个事业部，为什么是两个租户呢，而不是在组织架构上分呢

不是 我举个例子

>租户和用户的关系就是权限作为纽带

这就引发出一个现象  一个用户在2个租户下的消息 是各发各的吗

>消息是到人

这个我觉得是对的 可以接受  还引发出一个问题 用户表是有租户的

>用户表是全局的，不是租户的，只是和租户有关系而已

我1个用户存在2个租户下  那我查询的时候加了租户去查询用户 就发现一个租户下可以看到 另一个租户看不到
用户表有租户ID啊

>一个用户只能所属一个租户呀

你看我查询的
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217212420167-1495614534.png)

>其他都是通过权限建立关系


所以这种授权的方式赋给用户的其他租户 对业务来说他们没区别 他们只知道我现在用户有2个租户
但是我去查询数据的时候我去查询iam我发现我只能查询到其中一个租户下的

>你不要这样查  用户有多少个租户我们是有API的  是通过角色权限去关联
如果是一个API查询用户有多少租户这个我可以按照标准的API去查这个OK

>选择
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217212535288-1412761939.png)

我现在有一个很复杂的SQL里面关联了用户 要显示用户名称 （可能确实是之前的代码不规范所以关联了aim表 ）这种功能我改造起来就比较吃力

>只是关联名称，我们有缓存可以取，有个注解就可以搞定  关联iam_user表没问题，你不需要去限制租户就行
我知道你的意思了。




### 请问一下，SAAS版本的工作流，平台管理员可以开后门看到其他租户的创建的工作流吗？


### 我每次刷新页面都会出现这个错误，请问一下是什么原因呢？

![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211643760-1456965327.png)

### 请问外部系统调用我们的接口时，数据量过大会报这个错误的原因是什么？

BomResponseDTO(code=E, message=nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.data.redis.RedisConnectionFailureException: java.net.SocketException: Connection reset; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: Connection reset
### Cause: org.springframework.data.redis.RedisConnectionFailureException: java.net.SocketException: Connection reset; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketException: Connection reset)

>https://blog.csdn.net/elim168/article/details/78080579


### 请问hzero中描述维护这一块是怎么处理的。
![](https://img2018.cnblogs.com/blog/1231979/201912/1231979-20191217211335545-1440349202.png)


21:28分记录
